# ğŸ¯ Qui Teste Quoi - Demandes de Remplacement

**DerniÃ¨re mise Ã  jour**: 24 octobre 2025

---

## ğŸ“¥ QUI DOIT ACCEPTER/REFUSER QUOI ?

### ğŸ”´ Sophie Rousseau - 2 DEMANDES Ã€ TRAITER

**Connexion**:
```
Email: sophie.rousseau@centre-equestre-des-etoiles.fr
Mot de passe: password
```

**Demandes reÃ§ues** (elle doit les accepter ou refuser):

#### Demande A
- **De**: Marie Leroy
- **Cours**: Lundi 28/10/2025 Ã  09:00
- **Raison**: ProblÃ¨me de santÃ©
- **Action**: âš ï¸ **SOPHIE doit accepter ou refuser**

#### Demande B
- **De**: Jean Moreau
- **Cours**: Lundi 28/10/2025 Ã  09:00 (mÃªme horaire!)
- **Raison**: Urgence familiale
- **Action**: âš ï¸ **SOPHIE doit accepter ou refuser**

---

### ğŸŸ¡ Jean Moreau - 1 DEMANDE Ã€ TRAITER

**Connexion**:
```
Email: jean.moreau@centre-Ã‰questre-des-Ã‰toiles.fr
Mot de passe: password
```

**Demande reÃ§ue** (il doit l'accepter ou refuser):

#### Demande C
- **De**: Marie Leroy
- **Cours**: Samedi 26/10/2025 Ã  09:00
- **Raison**: Rendez-vous mÃ©dical
- **Action**: âš ï¸ **JEAN doit accepter ou refuser**

---

### ğŸŸ¡ Marie Leroy - 1 DEMANDE Ã€ TRAITER

**Connexion**:
```
Email: marie.leroy@centre-Ã‰questre-des-Ã‰toiles.fr
Mot de passe: password
```

**Demande reÃ§ue** (elle doit l'accepter ou refuser):

#### Demande D
- **De**: Sophie Rousseau
- **Cours**: Lundi 28/10/2025 Ã  15:30
- **Raison**: IndisponibilitÃ© personnelle
- **Action**: âš ï¸ **MARIE doit accepter ou refuser**

---

## ğŸ“Š SchÃ©ma Visuel des Demandes

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DEMANDES EN ATTENTE                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Marie Leroy â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> Jean Moreau
         â”‚                          â”‚
         â”‚ (RDV mÃ©dical)            â”‚
         â”‚                          â”‚
         â””â”€â”€â”€â”€â”€> ğŸ“§ Jean reÃ§oit 1 demande


    Marie Leroy â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> Sophie Rousseau
         â”‚                          â”‚
         â”‚ (SantÃ©)                  â”‚
         â”‚                          â”‚
         â””â”€â”€â”€â”€â”€> ğŸ“§ Sophie reÃ§oit demande A


    Jean Moreau â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> Sophie Rousseau
         â”‚                          â”‚
         â”‚ (Urgence)                â”‚
         â”‚                          â”‚
         â””â”€â”€â”€â”€â”€> ğŸ“§ Sophie reÃ§oit demande B


    Sophie Rousseau â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> Marie Leroy
         â”‚                          â”‚
         â”‚ (IndisponibilitÃ©)        â”‚
         â”‚                          â”‚
         â””â”€â”€â”€â”€â”€> ğŸ“§ Marie reÃ§oit 1 demande


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DEMANDE DÃ‰JÃ€ ACCEPTÃ‰E                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Jean Moreau â”€â”€â”€â”€â”€â”€âœ…â”€â”€â”€â”€â”€â”€> Marie Leroy
         â”‚                          â”‚
         â”‚ (Conflit horaire)        â”‚
         â”‚                          â”‚
         â””â”€â”€â”€â”€â”€> âœ… Marie a ACCEPTÃ‰ (cours transfÃ©rÃ©)
```

---

## ğŸ§ª Ordre de Test RecommandÃ©

### Test 1: Sophie (la plus chargÃ©e)
```
1. Se connecter avec sophie.rousseau@centre-equestre-des-etoiles.fr
2. Voir le bandeau orange: "2 demandes de remplacement en attente"
3. Voir les dÃ©tails des 2 demandes (Marie et Jean)
4. Accepter la demande de Marie (ou refuser)
5. Accepter la demande de Jean (ou refuser)
6. VÃ©rifier que les cours apparaissent dans sa liste (si acceptÃ©s)
```

### Test 2: Jean
```
1. Se connecter avec jean.moreau@centre-Ã‰questre-des-Ã‰toiles.fr
2. Voir le bandeau orange: "1 demande de remplacement en attente"
3. Voir les dÃ©tails de la demande de Marie
4. Accepter ou refuser
5. VÃ©rifier le rÃ©sultat
```

### Test 3: Marie
```
1. Se connecter avec marie.leroy@centre-Ã‰questre-des-Ã‰toiles.fr
2. Voir le bandeau orange: "1 demande de remplacement en attente"
3. Voir les dÃ©tails de la demande de Sophie
4. Accepter ou refuser
5. VÃ©rifier ses demandes envoyÃ©es (2 en attente de rÃ©ponse)
6. VÃ©rifier la demande acceptÃ©e par Jean (cours transfÃ©rÃ©)
```

---

## ğŸ¬ Script de Test Complet (10 minutes)

### Minute 0-3: Sophie accepte tout
```
1. Login Sophie
2. Dashboard â†’ Bandeau "2 demandes"
3. Accepter demande de Marie âœ…
4. Accepter demande de Jean âœ…
5. VÃ©rifier: Sophie a maintenant 2 nouveaux cours le 28/10
```

### Minute 3-6: Jean refuse
```
1. Login Jean
2. Dashboard â†’ Bandeau "1 demande"
3. Refuser demande de Marie âŒ
4. VÃ©rifier: Le cours reste Ã  Marie
```

### Minute 6-10: Marie accepte
```
1. Login Marie
2. Dashboard â†’ Bandeau "1 demande"
3. Accepter demande de Sophie âœ…
4. VÃ©rifier: Marie a le cours de Sophie
5. VÃ©rifier: Marie ne voit plus les 2 cours qu'elle avait demandÃ©s
   (1 transfÃ©rÃ© Ã  Sophie, 1 refusÃ© par Jean donc toujours Ã  elle)
```

---

## ğŸ“‹ RÃ©sultat Final Attendu

AprÃ¨s tous les tests (si tout acceptÃ© sauf Jean qui refuse):

### Sophie
- âœ… Cours de Marie (28/10 09:00) - REÃ‡U
- âœ… Cours de Jean (28/10 09:00) - REÃ‡U
- âŒ Son propre cours (28/10 15:30) - TRANSFÃ‰RÃ‰ Ã  Marie

### Jean
- âœ… Son cours demandÃ© Ã  Marie (28/10 14:30) - DÃ‰JÃ€ transfÃ©rÃ©
- âœ… Son cours demandÃ© Ã  Sophie (28/10 09:00) - TRANSFÃ‰RÃ‰ Ã  Sophie
- âœ… Cours de Marie (26/10 09:00) - REFUSÃ‰, reste Ã  Marie

### Marie
- âœ… Cours de Jean (28/10 14:30) - REÃ‡U (dÃ©jÃ  acceptÃ© avant)
- âœ… Cours de Sophie (28/10 15:30) - REÃ‡U
- âŒ Son cours Ã  Jean (26/10 09:00) - REFUSÃ‰, reste Ã  elle
- âŒ Son cours Ã  Sophie (28/10 09:00) - TRANSFÃ‰RÃ‰ Ã  Sophie

---

## ğŸ” VÃ©rification Rapide en DB

```sql
-- Voir toutes les demandes et leur statut
SELECT 
  ut1.name as de,
  ut2.name as vers,
  lr.status,
  DATE_FORMAT(l.start_time, '%d/%m %H:%i') as cours
FROM lesson_replacements lr
INNER JOIN teachers t1 ON lr.original_teacher_id = t1.id
INNER JOIN users ut1 ON t1.user_id = ut1.id
INNER JOIN teachers t2 ON lr.replacement_teacher_id = t2.id
INNER JOIN users ut2 ON t2.user_id = ut2.id
INNER JOIN lessons l ON lr.lesson_id = l.id
ORDER BY lr.id;
```

**RÃ©sultat actuel**:
```
de           | vers           | status   | cours
-------------|----------------|----------|------------
Marie Leroy  | Jean Moreau    | pending  | 26/10 09:00
Jean Moreau  | Sophie Rousseau| pending  | 28/10 09:00
Sophie R.    | Marie Leroy    | pending  | 28/10 15:30
Marie Leroy  | Sophie Rousseau| pending  | 28/10 09:00
Jean Moreau  | Marie Leroy    | accepted | 28/10 14:30
```

---

## âœ… Checklist par Enseignant

### Sophie (la plus importante Ã  tester)
- [ ] Se connecter
- [ ] Voir bandeau "2 demandes"
- [ ] Voir dÃ©tails demande Marie (santÃ©)
- [ ] Voir dÃ©tails demande Jean (urgence)
- [ ] Cliquer "Accepter" ou "Refuser" pour Marie
- [ ] Cliquer "Accepter" ou "Refuser" pour Jean
- [ ] VÃ©rifier cours dans son tableau
- [ ] VÃ©rifier statistiques mises Ã  jour

### Jean
- [ ] Se connecter
- [ ] Voir bandeau "1 demande"
- [ ] Voir dÃ©tails demande Marie (RDV mÃ©dical)
- [ ] Cliquer "Accepter" ou "Refuser"
- [ ] VÃ©rifier rÃ©sultat

### Marie
- [ ] Se connecter
- [ ] Voir bandeau "1 demande"
- [ ] Voir dÃ©tails demande Sophie (indisponibilitÃ©)
- [ ] Cliquer "Accepter" ou "Refuser"
- [ ] VÃ©rifier ses demandes envoyÃ©es (statut)
- [ ] VÃ©rifier cours reÃ§u de Jean (dÃ©jÃ  acceptÃ©)

---

## ğŸ’¡ Conseil

**Commencez par Sophie** car elle a le plus de demandes Ã  traiter et c'est elle qui vous donnera le meilleur aperÃ§u du systÃ¨me !

---

**Tous les mots de passe sont "password"** ğŸ”

