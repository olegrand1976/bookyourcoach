import{f as m,A,h as b,c as d,a as s,d as o,t as n,m as e,k as g,B as f,o as i}from"./D1UknV-R.js";const k={class:"p-8"},c={class:"space-y-4"},v={class:"p-4 border rounded"},x={class:"p-4 border rounded"},y={class:"p-4 border rounded"},T={key:0,class:"mt-2 p-2 bg-gray-100 rounded"},B={__name:"test-auth",setup(h){const l=m(),a=A("auth-token"),r=b(null),p=async()=>{try{const{$api:u}=f(),t=await u.get("/auth/user");r.value=t.data}catch(u){r.value={error:u.message}}};return(u,t)=>(i(),d("div",k,[t[9]||(t[9]=s("h1",{class:"text-2xl font-bold mb-4"},"Test d'authentification",-1)),s("div",c,[s("div",v,[t[4]||(t[4]=s("h3",{class:"font-semibold"},"État du store d'authentification :",-1)),s("p",null,[t[0]||(t[0]=s("strong",null,"isAuthenticated:",-1)),o(" "+n(e(l).isAuthenticated),1)]),s("p",null,[t[1]||(t[1]=s("strong",null,"Token présent:",-1)),o(" "+n(!!e(l).token),1)]),s("p",null,[t[2]||(t[2]=s("strong",null,"User:",-1)),o(" "+n(e(l).user?e(l).user.email:"Aucun"),1)]),s("p",null,[t[3]||(t[3]=s("strong",null,"canActAsTeacher:",-1)),o(" "+n(e(l).canActAsTeacher),1)])]),s("div",x,[t[7]||(t[7]=s("h3",{class:"font-semibold"},"Cookies :",-1)),s("p",null,[t[5]||(t[5]=s("strong",null,"auth-token:",-1)),o(" "+n(e(a)?"Présent":"Absent"),1)]),s("p",null,[t[6]||(t[6]=s("strong",null,"Valeur:",-1)),o(" "+n(e(a)?e(a).substring(0,20)+"...":"N/A"),1)])]),s("div",y,[t[8]||(t[8]=s("h3",{class:"font-semibold"},"Test API :",-1)),s("button",{onClick:p,class:"px-4 py-2 bg-blue-500 text-white rounded"}," Tester l'API "),e(r)?(i(),d("div",T,[s("pre",null,n(JSON.stringify(e(r),null,2)),1)])):g("",!0)])])]))}};export{B as default};
