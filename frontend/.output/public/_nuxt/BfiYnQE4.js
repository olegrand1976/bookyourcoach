import{f as S,h as p,x as $,u as z,c as i,a as e,d as c,j as T,l as n,v as d,m as o,k as M,F as v,p as w,n as q,s as k,q as C,o as a,H as N,E as B,t as m,A as j}from"./qntuUWic.js";const R={class:"min-h-screen bg-equestrian-cream"},F={class:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8"},G={class:"bg-white shadow-lg rounded-lg border border-equestrian-gold/20"},H={class:"border-b border-gray-200 pb-6"},L={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Y={class:"mt-6"},J={class:"border-b border-gray-200 pb-6"},K={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},O={class:"md:col-span-2"},Q={class:"border-b border-gray-200 pb-6"},W={class:"mb-4"},X={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Z=["id","value"],I=["for"],ee={class:"text-2xl mr-2"},se={class:"font-medium text-gray-900"},te={class:"text-sm text-gray-500"},oe={key:0,class:"mt-6"},re={class:"bg-gray-50 p-4 rounded-lg"},le={class:"font-medium text-gray-900 mb-2 flex items-center"},ne={class:"text-lg mr-2"},ie={class:"grid grid-cols-2 md:grid-cols-3 gap-2"},ae=["id","value"],de={class:"text-gray-700"},ue={class:"pb-6"},ce={class:"flex items-center"},me={class:"flex justify-end space-x-4 pt-6 border-t border-gray-200"},pe=["disabled"],be={key:0},ge={key:1},ye={__name:"profile-unified",setup(fe){S();const b=p(!1),r=p({name:"",email:"",phone:"",website:"",description:"",address:"",city:"",postal_code:"",country:"",is_active:!0}),y=p([]),u=p([]),g=p([]),V=async()=>{try{const l=k(),s=await $fetch(`${l.public.apiBase}/club/profile-test`);if(s.user&&s.user.club){const t=s.user.club;r.value={name:t.name||"",email:t.email||"",phone:t.phone||"",website:t.website||"",description:t.description||"",address:t.address||"",city:t.city||"",postal_code:t.postal_code||"",country:t.country||"",is_active:t.is_active!==!1}}}catch(l){console.error("Erreur lors du chargement du profil:",l)}},A=async()=>{try{const l=k(),s=await $fetch(`${l.public.apiBase}/activity-types`);y.value=s.data||[]}catch(l){console.error("Erreur lors du chargement des activités:",l)}},h=l=>y.value.find(s=>s.id===l),U=l=>({1:[{id:1,name:"Dressage"},{id:2,name:"Saut d'obstacles"},{id:3,name:"Complet"},{id:4,name:"Endurance"}],2:[{id:5,name:"Crawl"},{id:6,name:"Brasse"},{id:7,name:"Papillon"},{id:8,name:"Aquagym"}],3:[{id:9,name:"Musculation"},{id:10,name:"Cardio"},{id:11,name:"Yoga"},{id:12,name:"Pilates"}],4:[{id:13,name:"Perte de poids"},{id:14,name:"Prise de masse"},{id:15,name:"Préparation physique"},{id:16,name:"Rééducation"}]})[l]||[],P=async()=>{b.value=!0;try{const l=k(),s=j("auth-token"),t={...r.value,activity_types:u.value,disciplines:g.value};await $fetch(`${l.public.apiBase}/club/profile-test`,{method:"PUT",headers:{Authorization:`Bearer ${s.value}`,"Content-Type":"application/json"},body:t}),await C("/club/dashboard")}catch(l){console.error("Erreur lors de la mise à jour du club:",l)}finally{b.value=!1}},E=()=>{C("/club/dashboard")};return $(async()=>{await Promise.all([V(),A()])}),z({title:"Profil du Club | activibe",meta:[{name:"description",content:"Gérez les informations et activités de votre club sur activibe"}]}),(l,s)=>(a(),i("div",R,[e("div",F,[s[28]||(s[28]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-equestrian-darkBrown flex items-center"},[e("span",{class:"text-4xl mr-3"},"🏢"),c(" Profil du Club ")]),e("p",{class:"mt-2 text-equestrian-brown"},"Gérez les informations et activités de votre club")],-1)),e("div",G,[e("form",{onSubmit:T(P,["prevent"]),class:"space-y-6 p-6"},[e("div",H,[s[17]||(s[17]=e("h2",{class:"text-lg font-semibold text-equestrian-darkBrown mb-4 flex items-center"},[e("span",{class:"text-xl mr-2"},"📋"),c(" Informations générales ")],-1)),e("div",L,[e("div",null,[s[12]||(s[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nom du club",-1)),n(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>o(r).name=t),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-equestrian-gold focus:border-transparent",placeholder:"Nom de votre club",required:""},null,512),[[d,o(r).name]])]),e("div",null,[s[13]||(s[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email de contact",-1)),n(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>o(r).email=t),type:"email",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-equestrian-gold focus:border-transparent",placeholder:"contact@votreclub.com",required:""},null,512),[[d,o(r).email]])]),e("div",null,[s[14]||(s[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Téléphone",-1)),n(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>o(r).phone=t),type:"tel",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-equestrian-gold focus:border-transparent",placeholder:"+33 1 23 45 67 89"},null,512),[[d,o(r).phone]])]),e("div",null,[s[15]||(s[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Site web",-1)),n(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>o(r).website=t),type:"url",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-equestrian-gold focus:border-transparent",placeholder:"https://votreclub.com"},null,512),[[d,o(r).website]])])]),e("div",Y,[s[16]||(s[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description",-1)),n(e("textarea",{"onUpdate:modelValue":s[4]||(s[4]=t=>o(r).description=t),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-equestrian-gold focus:border-transparent",placeholder:"Décrivez votre club, ses valeurs et ses services..."},null,512),[[d,o(r).description]])])]),e("div",J,[s[22]||(s[22]=e("h2",{class:"text-lg font-semibold text-equestrian-darkBrown mb-4 flex items-center"},[e("span",{class:"text-xl mr-2"},"📍"),c(" Adresse ")],-1)),e("div",K,[e("div",O,[s[18]||(s[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Adresse",-1)),n(e("input",{"onUpdate:modelValue":s[5]||(s[5]=t=>o(r).address=t),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-equestrian-gold focus:border-transparent",placeholder:"123 Rue de l'Équitation"},null,512),[[d,o(r).address]])]),e("div",null,[s[19]||(s[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Code postal",-1)),n(e("input",{"onUpdate:modelValue":s[6]||(s[6]=t=>o(r).postal_code=t),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-equestrian-gold focus:border-transparent",placeholder:"75001"},null,512),[[d,o(r).postal_code]])]),e("div",null,[s[20]||(s[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Ville",-1)),n(e("input",{"onUpdate:modelValue":s[7]||(s[7]=t=>o(r).city=t),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-equestrian-gold focus:border-transparent",placeholder:"Paris"},null,512),[[d,o(r).city]])]),e("div",null,[s[21]||(s[21]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Pays",-1)),n(e("input",{"onUpdate:modelValue":s[8]||(s[8]=t=>o(r).country=t),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-equestrian-gold focus:border-transparent",placeholder:"France"},null,512),[[d,o(r).country]])])])]),e("div",Q,[s[25]||(s[25]=e("h2",{class:"text-lg font-semibold text-equestrian-darkBrown mb-4 flex items-center"},[e("span",{class:"text-xl mr-2"},"🏃‍♀️"),c(" Activités proposées ")],-1)),e("div",W,[s[23]||(s[23]=e("p",{class:"text-sm text-gray-600 mb-4"},"Sélectionnez les activités que votre club propose :",-1)),e("div",X,[(a(!0),i(v,null,w(o(y),t=>(a(),i("div",{key:t.id,class:N(["flex items-center p-4 border rounded-lg hover:bg-gray-50 transition-colors",o(u).includes(t.id)?"border-equestrian-gold bg-equestrian-cream":"border-gray-200"])},[n(e("input",{id:"activity-"+t.id,"onUpdate:modelValue":s[9]||(s[9]=f=>B(u)?u.value=f:null),value:t.id,type:"checkbox",class:"h-4 w-4 text-equestrian-gold focus:ring-equestrian-gold border-gray-300 rounded"},null,8,Z),[[q,o(u)]]),e("label",{for:"activity-"+t.id,class:"ml-3 flex items-center cursor-pointer"},[e("span",ee,m(t.icon),1),e("div",null,[e("div",se,m(t.name),1),e("div",te,m(t.description),1)])],8,I)],2))),128))])]),o(u).length>0?(a(),i("div",oe,[s[24]||(s[24]=e("h3",{class:"text-md font-medium text-equestrian-darkBrown mb-3"},"Spécialités par activité",-1)),(a(!0),i(v,null,w(o(u),t=>{var f,_;return a(),i("div",{key:t,class:"mb-4"},[e("div",re,[e("h4",le,[e("span",ne,m((f=h(t))==null?void 0:f.icon),1),c(" "+m((_=h(t))==null?void 0:_.name),1)]),e("div",ie,[(a(!0),i(v,null,w(U(t),x=>(a(),i("label",{key:x.id,class:"flex items-center p-2 text-sm"},[n(e("input",{id:"discipline-"+x.id,"onUpdate:modelValue":s[10]||(s[10]=D=>B(g)?g.value=D:null),value:x.id,type:"checkbox",class:"h-3 w-3 text-equestrian-gold focus:ring-equestrian-gold border-gray-300 rounded mr-2"},null,8,ae),[[q,o(g)]]),e("span",de,m(x.name),1)]))),128))])])])}),128))])):M("",!0)]),e("div",ue,[s[27]||(s[27]=e("h2",{class:"text-lg font-semibold text-equestrian-darkBrown mb-4 flex items-center"},[e("span",{class:"text-xl mr-2"},"⚙️"),c(" Paramètres ")],-1)),e("div",ce,[n(e("input",{"onUpdate:modelValue":s[11]||(s[11]=t=>o(r).is_active=t),type:"checkbox",id:"is_active",class:"h-4 w-4 text-equestrian-gold focus:ring-equestrian-gold border-gray-300 rounded"},null,512),[[q,o(r).is_active]]),s[26]||(s[26]=e("label",{for:"is_active",class:"ml-2 text-sm text-gray-700"}," Club actif (visible sur la plateforme) ",-1))])]),e("div",me,[e("button",{type:"button",onClick:E,class:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-equestrian-gold"}," Annuler "),e("button",{type:"submit",disabled:o(b),class:"px-6 py-2 bg-equestrian-gold text-white rounded-md hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-equestrian-gold disabled:opacity-50"},[o(b)?(a(),i("span",be,"Enregistrement...")):(a(),i("span",ge,"Enregistrer les modifications"))],8,pe)])],32)])])]))}};export{ye as default};
