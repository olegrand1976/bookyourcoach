import{_ as B}from"./CKlUakhr.js";import{_ as R}from"./Bm8-yRUG.js";import{r as c,g as P,c as i,a as e,m as A,b as o,d as n,t as d,w as z,F as E,s as U,l as N,p,v as x,z as T,C as v,o as u,H as f}from"./B2BDWZP7.js";import"./DlAUqK2U.js";const L={class:"min-h-screen bg-gray-50"},F={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},H={class:"mb-8"},G={class:"text-3xl font-bold text-gray-900 flex items-center"},Y={key:0,class:"flex justify-center items-center py-12"},J={key:1,class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},K={class:"bg-white rounded-lg shadow-lg p-6 border-l-4 border-blue-500"},O={class:"flex items-center"},Q={class:"text-3xl font-bold text-blue-600"},W={class:"bg-white rounded-lg shadow-lg p-6 border-l-4 border-green-500"},X={class:"flex items-center"},Z={class:"text-3xl font-bold text-green-600"},ee={class:"bg-white rounded-lg shadow-lg p-6 border-l-4 border-purple-500"},te={class:"flex items-center"},se={class:"text-3xl font-bold text-purple-600"},le={class:"bg-white rounded-lg shadow-lg p-6 border-l-4 border-orange-500"},oe={class:"flex items-center"},re={class:"text-3xl font-bold text-orange-600"},ae={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8"},ie={class:"bg-white rounded-lg shadow-lg p-6"},ne={class:"text-xl font-semibold text-gray-900 mb-4 flex items-center"},de={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ue={class:"bg-white rounded-lg shadow-lg p-6"},me={class:"text-xl font-semibold text-gray-900 mb-4 flex items-center"},ce={class:"space-y-3"},pe={class:"flex-shrink-0"},xe={class:"ml-3 flex-1"},ge={class:"text-sm font-medium text-gray-900"},ve={class:"text-xs text-gray-500"},be={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},ye={class:"bg-white rounded-lg shadow-lg p-6"},fe={class:"text-xl font-semibold text-gray-900 mb-4 flex items-center"},we={class:"overflow-x-auto"},he={class:"min-w-full divide-y divide-gray-200"},_e={class:"divide-y divide-gray-200"},ke={class:"px-4 py-3 text-sm font-medium text-gray-900"},Ce={class:"px-4 py-3 text-sm text-gray-500"},ze={class:"px-4 py-3 text-sm text-gray-500"},Ee={class:"mt-4"},Ue={class:"bg-white rounded-lg shadow-lg p-6"},Ve={class:"text-xl font-semibold text-gray-900 mb-4 flex items-center"},Ae={class:"space-y-4"},Ne={class:"text-sm font-medium text-gray-900"},je={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},qe={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"},Me={class:"mt-3"},Se={class:"flex justify-end space-x-3"},$e={key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},De={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"},Ie={class:"mt-3"},Be={class:"flex justify-end space-x-3"},He={__name:"index",setup(Re){const w=c(!0),b=c(!1),y=c(!1),g=c({users:0,teachers:0,students:0,clubs:0}),h=c([]),_=c([]),j=c([{name:"API Backend",status:"online"},{name:"Base de données",status:"online"},{name:"Système de paiement",status:"online"},{name:"Notifications",status:"online"}]),a=c({name:"",email:"",role:"student",password:"",password_confirmation:""}),m=c({name:"",email:"",phone:"",address:""}),q=l=>({admin:"bg-red-100 text-red-800",teacher:"bg-green-100 text-green-800",student:"bg-blue-100 text-blue-800"})[l]||"bg-gray-100 text-gray-800",M=l=>({admin:"Admin",teacher:"Enseignant",student:"Élève"})[l]||l,k=async()=>{try{const{$api:l}=v(),t=await l.get("/admin/stats");g.value=t.data}catch(l){console.error("Erreur lors du chargement des statistiques:",l),g.value={users:3,teachers:1,students:1,clubs:0}}},V=async()=>{try{const{$api:l}=v(),t=await l.get("/admin/users?per_page=5");h.value=t.data.data||[]}catch(l){console.error("Erreur lors du chargement des utilisateurs récents:",l),h.value=[{id:1,name:"Marie Dubois",role:"admin",is_active:!0},{id:2,name:"Pierre Martin",role:"teacher",is_active:!0},{id:3,name:"Sophie Durand",role:"student",is_active:!0}]}},S=async()=>{try{const{$api:l}=v(),t=await l.get("/admin/activities?limit=5");_.value=t.data.data||[]}catch(l){console.error("Erreur lors du chargement des activités récentes:",l),_.value=[{id:1,message:"Nouvel utilisateur inscrit",time:"Il y a 2 heures",icon:"helmet"},{id:2,message:"Cours réservé avec succès",time:"Il y a 4 heures",icon:"saddle"},{id:3,message:"Paiement traité",time:"Il y a 6 heures",icon:"trophy"},{id:4,message:"Nouveau club créé",time:"Il y a 1 jour",icon:"horse"},{id:5,message:"Mise à jour du système",time:"Il y a 2 jours",icon:"horseshoe"}]}},$=async()=>{try{const{$api:l}=v();await l.post("/admin/users",{...a.value,password_confirmation:a.value.password}),b.value=!1,a.value={name:"",email:"",role:"student",password:"",password_confirmation:""},await k(),await V(),alert("Utilisateur créé avec succès!")}catch(l){console.error("Erreur lors de la création de l'utilisateur:",l),alert("Erreur lors de la création de l'utilisateur")}},D=async()=>{try{const{$api:l}=v();await l.post("/admin/clubs",m.value),y.value=!1,m.value={name:"",email:"",phone:"",address:""},await k(),alert("Club créé avec succès!")}catch(l){console.error("Erreur lors de la création du club:",l),alert("Erreur lors de la création du club")}},I=async()=>{w.value=!0;try{await Promise.all([k(),V(),S()])}catch(l){console.error("Erreur lors du chargement du dashboard:",l)}finally{w.value=!1}};return P(()=>{I()}),(l,t)=>{const r=B,C=R;return u(),i("div",L,[e("div",F,[e("div",H,[e("h1",G,[o(r,{icon:"trophy",class:"mr-3 text-primary-600",size:32}),t[13]||(t[13]=n(" Dashboard Administrateur ",-1))]),t[14]||(t[14]=e("p",{class:"mt-2 text-gray-600"},"Vue d'ensemble et gestion de la plateforme BookYourCoach",-1))]),w.value?(u(),i("div",Y,t[15]||(t[15]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"},null,-1)]))):(u(),i("div",J,[e("div",K,[e("div",O,[o(r,{icon:"helmet",class:"text-blue-500 mr-3",size:24}),e("div",null,[t[16]||(t[16]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Utilisateurs",-1)),e("p",Q,d(g.value.users),1),t[17]||(t[17]=e("p",{class:"text-sm text-gray-500"},"Total inscrits",-1))])])]),e("div",W,[e("div",X,[o(r,{icon:"saddle",class:"text-green-500 mr-3",size:24}),e("div",null,[t[18]||(t[18]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Enseignants",-1)),e("p",Z,d(g.value.teachers),1),t[19]||(t[19]=e("p",{class:"text-sm text-gray-500"},"Coaches actifs",-1))])])]),e("div",ee,[e("div",te,[o(r,{icon:"horseshoe",class:"text-purple-500 mr-3",size:24}),e("div",null,[t[20]||(t[20]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Élèves",-1)),e("p",se,d(g.value.students),1),t[21]||(t[21]=e("p",{class:"text-sm text-gray-500"},"Apprenants",-1))])])]),e("div",le,[e("div",oe,[o(r,{icon:"horse",class:"text-orange-500 mr-3",size:24}),e("div",null,[t[22]||(t[22]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Clubs",-1)),e("p",re,d(g.value.clubs),1),t[23]||(t[23]=e("p",{class:"text-sm text-gray-500"},"Centres équestres",-1))])])])])),e("div",ae,[e("div",ie,[e("h2",ne,[o(r,{icon:"trophy",class:"mr-2 text-primary-600",size:20}),t[24]||(t[24]=n(" Actions rapides ",-1))]),e("div",de,[e("button",{onClick:t[0]||(t[0]=s=>b.value=!0),class:"btn-primary flex items-center justify-center"},[o(r,{icon:"helmet",class:"mr-2",size:16}),t[25]||(t[25]=n(" Créer un utilisateur ",-1))]),e("button",{onClick:t[1]||(t[1]=s=>y.value=!0),class:"btn-secondary flex items-center justify-center"},[o(r,{icon:"horse",class:"mr-2",size:16}),t[26]||(t[26]=n(" Créer un club ",-1))]),o(C,{to:"/admin/users",class:"btn-outline flex items-center justify-center"},{default:z(()=>[o(r,{icon:"saddle",class:"mr-2",size:16}),t[27]||(t[27]=n(" Gérer les utilisateurs ",-1))]),_:1,__:[27]}),o(C,{to:"/admin/settings",class:"btn-outline flex items-center justify-center"},{default:z(()=>[o(r,{icon:"horseshoe",class:"mr-2",size:16}),t[28]||(t[28]=n(" Paramètres système ",-1))]),_:1,__:[28]})])]),e("div",ue,[e("h2",me,[o(r,{icon:"horseshoe",class:"mr-2 text-primary-600",size:20}),t[29]||(t[29]=n(" Activité récente ",-1))]),e("div",ce,[(u(!0),i(E,null,U(_.value,s=>(u(),i("div",{key:s.id,class:"flex items-center p-3 bg-gray-50 rounded-lg"},[e("div",pe,[o(r,{icon:s.icon,class:"text-primary-600",size:16},null,8,["icon"])]),e("div",xe,[e("p",ge,d(s.message),1),e("p",ve,d(s.time),1)])]))),128))])])]),e("div",be,[e("div",ye,[e("h2",fe,[o(r,{icon:"helmet",class:"mr-2 text-primary-600",size:20}),t[30]||(t[30]=n(" Derniers utilisateurs ",-1))]),e("div",we,[e("table",he,[t[31]||(t[31]=e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Nom"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Rôle"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Statut")])],-1)),e("tbody",_e,[(u(!0),i(E,null,U(h.value,s=>(u(),i("tr",{key:s.id},[e("td",ke,d(s.name),1),e("td",Ce,[e("span",{class:f([q(s.role),"px-2 py-1 text-xs font-semibold rounded-full"])},d(M(s.role)),3)]),e("td",ze,[e("span",{class:f([s.is_active?"text-green-600":"text-red-600","flex items-center"])},[e("div",{class:f([s.is_active?"bg-green-400":"bg-red-400","w-2 h-2 rounded-full mr-2"])},null,2),n(" "+d(s.is_active?"Actif":"Inactif"),1)],2)])]))),128))])])]),e("div",Ee,[o(C,{to:"/admin/users",class:"text-primary-600 hover:text-primary-500 text-sm font-medium"},{default:z(()=>t[32]||(t[32]=[n(" Voir tous les utilisateurs → ",-1)])),_:1,__:[32]})])]),e("div",Ue,[e("h2",Ve,[o(r,{icon:"trophy",class:"mr-2 text-primary-600",size:20}),t[33]||(t[33]=n(" État du système ",-1))]),e("div",Ae,[(u(!0),i(E,null,U(j.value,s=>(u(),i("div",{key:s.name,class:"flex items-center justify-between"},[e("span",Ne,d(s.name),1),e("span",{class:f([s.status==="online"?"text-green-600 bg-green-100":"text-red-600 bg-red-100","px-2 py-1 text-xs font-semibold rounded-full"])},d(s.status==="online"?"En ligne":"Hors ligne"),3)]))),128))])])])]),b.value?(u(),i("div",je,[e("div",qe,[e("div",Me,[t[41]||(t[41]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Créer un nouvel utilisateur",-1)),e("form",{onSubmit:N($,["prevent"]),class:"space-y-4"},[e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-gray-700"},"Nom",-1)),p(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>a.value.name=s),type:"text",class:"input-field",required:""},null,512),[[x,a.value.name]])]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),p(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>a.value.email=s),type:"email",class:"input-field",required:""},null,512),[[x,a.value.email]])]),e("div",null,[t[37]||(t[37]=e("label",{class:"block text-sm font-medium text-gray-700"},"Rôle",-1)),p(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>a.value.role=s),class:"input-field",required:""},t[36]||(t[36]=[e("option",{value:"student"},"Élève",-1),e("option",{value:"teacher"},"Enseignant",-1),e("option",{value:"admin"},"Administrateur",-1)]),512),[[T,a.value.role]])]),e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-gray-700"},"Mot de passe",-1)),p(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>a.value.password=s),type:"password",class:"input-field",required:""},null,512),[[x,a.value.password]])]),e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-gray-700"},"Confirmer le mot de passe",-1)),p(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>a.value.password_confirmation=s),type:"password",class:"input-field",required:""},null,512),[[x,a.value.password_confirmation]])]),e("div",Se,[e("button",{type:"button",onClick:t[7]||(t[7]=s=>b.value=!1),class:"btn-outline"},"Annuler"),t[40]||(t[40]=e("button",{type:"submit",class:"btn-primary"},"Créer",-1))])],32)])])])):A("",!0),y.value?(u(),i("div",$e,[e("div",De,[e("div",Ie,[t[47]||(t[47]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Créer un nouveau club",-1)),e("form",{onSubmit:N(D,["prevent"]),class:"space-y-4"},[e("div",null,[t[42]||(t[42]=e("label",{class:"block text-sm font-medium text-gray-700"},"Nom du club",-1)),p(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>m.value.name=s),type:"text",class:"input-field",required:""},null,512),[[x,m.value.name]])]),e("div",null,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),p(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>m.value.email=s),type:"email",class:"input-field",required:""},null,512),[[x,m.value.email]])]),e("div",null,[t[44]||(t[44]=e("label",{class:"block text-sm font-medium text-gray-700"},"Téléphone",-1)),p(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>m.value.phone=s),type:"tel",class:"input-field"},null,512),[[x,m.value.phone]])]),e("div",null,[t[45]||(t[45]=e("label",{class:"block text-sm font-medium text-gray-700"},"Adresse",-1)),p(e("textarea",{"onUpdate:modelValue":t[11]||(t[11]=s=>m.value.address=s),class:"input-field",rows:"3"},null,512),[[x,m.value.address]])]),e("div",Be,[e("button",{type:"button",onClick:t[12]||(t[12]=s=>y.value=!1),class:"btn-outline"},"Annuler"),t[46]||(t[46]=e("button",{type:"submit",class:"btn-primary"},"Créer",-1))])],32)])])])):A("",!0)])}}};export{He as default};
