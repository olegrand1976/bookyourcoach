{"version":3,"file":"Logo-Bv7gA69-.js","sources":["../../../../composables/useSettings.ts","../../../../components/Logo.vue"],"sourcesContent":["import { ref, readonly } from 'vue'\n\n/**\n * Composable pour la gestion des paramètres système\n */\nexport const useSettings = () => {\n    // État réactif pour les paramètres\n    const settings = ref({\n        platform_name: 'BookYourCoach',\n        contact_email: 'contact@bookyourcoach.fr',\n        contact_phone: '+32 2 123 45 67',\n        company_address: 'Rue de l\\'Équitation 123\\n1000 Bruxelles\\nBelgique',\n        timezone: 'Europe/Brussels',\n        logo_url: '/logo.png',\n        favicon_url: '/favicon.ico'\n    })\n\n    // Charger les paramètres depuis l'API\n    const loadSettings = async () => {\n        try {\n            const { $api } = useNuxtApp()\n            const response = await $api.get('/admin/settings')\n\n            if (response.data?.success && response.data?.data) {\n                settings.value = { ...settings.value, ...response.data.data }\n            }\n        } catch (error) {\n            console.warn('Impossible de charger les paramètres:', error)\n            // Les valeurs par défaut sont conservées\n        }\n    }\n\n    // Sauvegarder les paramètres\n    const saveSettings = async (newSettings: Partial<typeof settings.value>) => {\n        try {\n            const { $api } = useNuxtApp()\n            const response = await $api.post('/admin/settings', newSettings)\n\n            if (response.data?.success) {\n                settings.value = { ...settings.value, ...newSettings }\n                return true\n            }\n            return false\n        } catch (error) {\n            console.error('Erreur lors de la sauvegarde:', error)\n            return false\n        }\n    }\n\n    return {\n        settings: readonly(settings),\n        loadSettings,\n        saveSettings\n    }\n}\n","<template>\n    <div class=\"flex items-center\">\n        <img :src=\"logoUrl\" :alt=\"platformName\" :class=\"[\n            'h-auto',\n            size === 'sm' ? 'w-24' : size === 'lg' ? 'w-40' : 'w-32'\n        ]\" @error=\"onImageError\" />\n        <!-- Fallback si l'image ne charge pas -->\n        <span v-if=\"showFallback\" :class=\"[\n            'font-serif font-bold text-primary-600',\n            size === 'sm' ? 'text-lg' : size === 'lg' ? 'text-3xl' : 'text-2xl'\n        ]\">\n            {{ platformName }}\n        </span>\n    </div>\n</template>\n\n<script setup lang=\"ts\">\ninterface Props {\n    size?: 'sm' | 'md' | 'lg'\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n    size: 'md'\n})\n\nconst settings = useSettings()\nconst showFallback = ref(false)\n\nconst logoUrl = computed(() => settings.settings.logo_url || '/logo.svg')\nconst platformName = computed(() => settings.settings.platform_name || 'BookYourCoach')\n\nconst onImageError = () => {\n    showFallback.value = true\n}\n\n// Charger les paramètres au montage\nonMounted(() => {\n    settings.loadSettings()\n})\n</script>\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderAttr","_unref","size"],"mappings":";;;AAKO,MAAM,cAAc,MAAM;AAE7B,QAAM,WAAW,IAAI;AAAA,IACjB,eAAe;AAAA,IACf,eAAe;AAAA,IACf,eAAe;AAAA,IACf,iBAAiB;AAAA,IACjB,UAAU;AAAA,IACV,UAAU;AAAA,IACV,aAAa;AAAA,EAAA,CAChB;AAGD,QAAM,eAAe,YAAY;;AAC7B,QAAI;AACA,YAAM,EAAE,KAAA,IAAS,WAAA;AACjB,YAAM,WAAW,MAAM,KAAK,IAAI,iBAAiB;AAEjD,YAAI,cAAS,SAAT,mBAAe,cAAW,cAAS,SAAT,mBAAe,OAAM;AAC/C,iBAAS,QAAQ,EAAE,GAAG,SAAS,OAAO,GAAG,SAAS,KAAK,KAAA;AAAA,MAC3D;AAAA,IACJ,SAAS,OAAO;AACZ,cAAQ,KAAK,yCAAyC,KAAK;AAAA,IAE/D;AAAA,EACJ;AAGA,QAAM,eAAe,OAAO,gBAAgD;;AACxE,QAAI;AACA,YAAM,EAAE,KAAA,IAAS,WAAA;AACjB,YAAM,WAAW,MAAM,KAAK,KAAK,mBAAmB,WAAW;AAE/D,WAAI,cAAS,SAAT,mBAAe,SAAS;AACxB,iBAAS,QAAQ,EAAE,GAAG,SAAS,OAAO,GAAG,YAAA;AACzC,eAAO;AAAA,MACX;AACA,aAAO;AAAA,IACX,SAAS,OAAO;AACZ,cAAQ,MAAM,iCAAiC,KAAK;AACpD,aAAO;AAAA,IACX;AAAA,EACJ;AAEA,SAAO;AAAA,IACH,UAAU,SAAS,QAAQ;AAAA,IAC3B;AAAA,IACA;AAAA,EAAA;AAER;;;;;;;;AC7BA,UAAM,WAAW,YAAA;AACjB,UAAM,eAAe,IAAI,KAAK;AAE9B,UAAM,UAAU,SAAS,MAAM,SAAS,SAAS,YAAY,WAAW;AACxE,UAAM,eAAe,SAAS,MAAM,SAAS,SAAS,iBAAiB,eAAe;;mBA5B7EA,eAAAC,WAAA,EAAA,OAAM,uBAAmB,MAAA,CAAA,SACpBC,cAAA,OAAKC,MAAA,OAAA,CAAO,IAAGD,cAAA,OAAKC,MAAA,YAAA,CAAY;;QAA8CC,KAAAA,yBAAyBA,KAAAA,SAAI,OAAA,SAAA;AAAA,MAAA;UAKrGD,MAAA,YAAA,GAAY;;;UAA6EC,KAAAA,4BAA4BA,KAAAA,SAAI,OAAA,aAAA;AAAA,QAAA,sBAI9HD,MAAA,YAAA,CAAY;;;;;;;;;;;;;;"}