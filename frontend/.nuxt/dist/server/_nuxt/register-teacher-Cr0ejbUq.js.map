{"version":3,"file":"register-teacher-Cr0ejbUq.js","sources":["../../../../pages/register-teacher.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\n    <div class=\"sm:mx-auto sm:w-full sm:max-w-md\">\n      <div class=\"flex justify-center\">\n        <img src=\"/images/logo-activibe.svg\" alt=\"Acti'Vibe\" class=\"h-16 w-auto\" />\n      </div>\n      <h2 class=\"mt-6 text-center text-3xl font-bold text-gray-900\">\n        Inscription Enseignant\n      </h2>\n      <p class=\"mt-2 text-center text-sm text-gray-600\">\n        Rejoignez notre plateforme en tant qu'enseignant\n      </p>\n    </div>\n\n    <div class=\"mt-8 sm:mx-auto sm:w-full sm:max-w-2xl\">\n      <div class=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\n        <form @submit.prevent=\"registerTeacher\" class=\"space-y-6\">\n          \n          <!-- Section Informations personnelles -->\n          <div class=\"bg-gray-50 rounded-xl p-6\">\n            <div class=\"flex items-center mb-4\">\n              <div class=\"bg-blue-100 p-2 rounded-lg mr-3\">\n                <svg class=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"></path>\n                </svg>\n              </div>\n              <h3 class=\"text-lg font-semibold text-gray-900\">Informations personnelles</h3>\n            </div>\n            \n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div class=\"space-y-2\">\n                <label class=\"block text-sm font-medium text-gray-700\">\n                  Nom complet <span class=\"text-red-500\">*</span>\n                </label>\n                <input \n                  v-model=\"form.name\" \n                  type=\"text\" \n                  required \n                  placeholder=\"Ex: Marie Dubois\"\n                  class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\n                >\n              </div>\n              \n              <div class=\"space-y-2\">\n                <label class=\"block text-sm font-medium text-gray-700\">\n                  Email <span class=\"text-red-500\">*</span>\n                </label>\n                <input \n                  v-model=\"form.email\" \n                  type=\"email\" \n                  required \n                  placeholder=\"Ex: marie.dubois@email.com\"\n                  class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\n                >\n              </div>\n              \n              <div class=\"space-y-2\">\n                <label class=\"block text-sm font-medium text-gray-700\">\n                  Mot de passe <span class=\"text-red-500\">*</span>\n                </label>\n                <input \n                  v-model=\"form.password\" \n                  type=\"password\" \n                  required \n                  placeholder=\"Minimum 8 caractères\"\n                  class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\n                >\n              </div>\n              \n              <div class=\"space-y-2\">\n                <label class=\"block text-sm font-medium text-gray-700\">\n                  Confirmer le mot de passe <span class=\"text-red-500\">*</span>\n                </label>\n                <input \n                  v-model=\"form.password_confirmation\" \n                  type=\"password\" \n                  required \n                  placeholder=\"Répétez le mot de passe\"\n                  class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\n                >\n              </div>\n              \n              <div class=\"space-y-2\">\n                <label class=\"block text-sm font-medium text-gray-700\">Téléphone</label>\n                <input \n                  v-model=\"form.phone\" \n                  type=\"tel\" \n                  placeholder=\"Ex: 06 12 34 56 78\"\n                  class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\n                >\n              </div>\n              \n              <div class=\"space-y-2\">\n                <label class=\"block text-sm font-medium text-gray-700\">Années d'expérience</label>\n                <input \n                  v-model.number=\"form.experience_years\" \n                  type=\"number\" \n                  min=\"0\" \n                  placeholder=\"Ex: 5\"\n                  class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\n                >\n              </div>\n            </div>\n          </div>\n\n          <!-- Section Spécialisations -->\n          <div class=\"bg-purple-50 rounded-xl p-6\">\n            <div class=\"flex items-center mb-4\">\n              <div class=\"bg-purple-100 p-2 rounded-lg mr-3\">\n                <svg class=\"w-5 h-5 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z\"></path>\n                </svg>\n              </div>\n              <div>\n                <h3 class=\"text-lg font-semibold text-gray-900\">Spécialisations</h3>\n                <p class=\"text-sm text-gray-600\">\n                  Sélectionnez vos domaines d'expertise (optionnel)\n                </p>\n              </div>\n            </div>\n            \n            <div class=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n              <div \n                v-for=\"specialization in availableSpecializations\" \n                :key=\"specialization.value\" \n                class=\"flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all duration-200 hover:shadow-md\"\n                :class=\"form.specializations.includes(specialization.value) \n                  ? 'border-blue-500 bg-blue-50 shadow-md' \n                  : 'border-gray-200 bg-white hover:border-gray-300'\"\n                @click=\"toggleSpecialization(specialization.value)\"\n              >\n                <input \n                  :id=\"'specialization-' + specialization.value\" \n                  v-model=\"form.specializations\" \n                  :value=\"specialization.value\" \n                  type=\"checkbox\" \n                  class=\"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                >\n                <label :for=\"'specialization-' + specialization.value\" class=\"ml-4 flex items-center cursor-pointer flex-1\">\n                  <span class=\"text-2xl mr-3\">{{ specialization.icon }}</span>\n                  <div>\n                    <div class=\"font-medium text-gray-900\">{{ specialization.label }}</div>\n                    <div class=\"text-sm text-gray-500\">{{ specialization.description }}</div>\n                  </div>\n                </label>\n              </div>\n            </div>\n            \n            <!-- Message si aucune spécialisation sélectionnée -->\n            <div v-if=\"form.specializations.length === 0\" class=\"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n              <div class=\"flex items-center\">\n                <svg class=\"w-5 h-5 text-blue-600 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\n                </svg>\n                <p class=\"text-sm text-blue-800\">\n                  Aucune spécialisation sélectionnée. Vous pourrez les ajouter plus tard dans votre profil.\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Section Tarifs et Bio -->\n          <div class=\"bg-emerald-50 rounded-xl p-6\">\n            <div class=\"flex items-center mb-4\">\n              <div class=\"bg-emerald-100 p-2 rounded-lg mr-3\">\n                <svg class=\"w-5 h-5 text-emerald-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\"></path>\n                </svg>\n              </div>\n              <h3 class=\"text-lg font-semibold text-gray-900\">Tarifs et présentation</h3>\n            </div>\n            \n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div class=\"space-y-2\">\n                <label class=\"block text-sm font-medium text-gray-700\">Tarif horaire (€)</label>\n                <div class=\"relative\">\n                  <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                    <span class=\"text-gray-500 sm:text-sm\">€</span>\n                  </div>\n                  <input \n                    v-model.number=\"form.hourly_rate\" \n                    type=\"number\" \n                    min=\"0\" \n                    step=\"0.01\" \n                    placeholder=\"50.00\"\n                    class=\"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\n                  >\n                </div>\n              </div>\n              \n              <div class=\"space-y-2\">\n                <label class=\"block text-sm font-medium text-gray-700\">Bio / Présentation</label>\n                <textarea \n                  v-model=\"form.bio\" \n                  rows=\"4\" \n                  placeholder=\"Décrivez votre expérience et votre approche pédagogique...\"\n                  class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none\"\n                ></textarea>\n              </div>\n            </div>\n          </div>\n          \n          <!-- Boutons d'action -->\n          <div class=\"flex justify-between items-center pt-6 border-t border-gray-200\">\n            <NuxtLink \n              to=\"/login\"\n              class=\"text-gray-600 hover:text-gray-800 font-medium\"\n            >\n              ← Retour à la connexion\n            </NuxtLink>\n            \n            <button \n              type=\"submit\" \n              :disabled=\"loading || form.password !== form.password_confirmation\" \n              class=\"px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-medium flex items-center space-x-2\"\n            >\n              <svg v-if=\"loading\" class=\"animate-spin w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n              <span>{{ loading ? 'Inscription en cours...' : 'S\\'inscrire' }}</span>\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\n\ndefinePageMeta({\n  layout: 'minimal'\n})\n\nconst loading = ref(false)\n\nconst form = ref({\n  name: '',\n  email: '',\n  password: '',\n  password_confirmation: '',\n  phone: '',\n  specializations: [], // Aucune spécialisation par défaut pour l'auto-inscription\n  experience_years: 0,\n  hourly_rate: 50,\n  bio: ''\n})\n\n// Spécialisations disponibles avec icônes\nconst availableSpecializations = ref([\n  { value: 'dressage', label: 'Dressage', description: 'Équitation classique', icon: '🏇' },\n  { value: 'obstacle', label: 'Obstacle', description: 'Saut d\\'obstacles', icon: '🏆' },\n  { value: 'cross', label: 'Cross', description: 'Cross-country', icon: '🌲' },\n  { value: 'complet', label: 'Complet', description: 'Concours complet', icon: '🎯' },\n  { value: 'voltige', label: 'Voltige', description: 'Voltige équestre', icon: '🤸' },\n  { value: 'pony', label: 'Poney', description: 'Cours poney', icon: '🐴' }\n])\n\n// Toggle spécialisation\nconst toggleSpecialization = (specializationValue) => {\n  const index = form.value.specializations.indexOf(specializationValue)\n  if (index > -1) {\n    form.value.specializations.splice(index, 1)\n  } else {\n    form.value.specializations.push(specializationValue)\n  }\n}\n\nconst registerTeacher = async () => {\n  loading.value = true\n  try {\n    const config = useRuntimeConfig()\n    \n    // Validation côté client\n    if (form.value.password !== form.value.password_confirmation) {\n      throw new Error('Les mots de passe ne correspondent pas')\n    }\n    \n    if (form.value.password.length < 8) {\n      throw new Error('Le mot de passe doit contenir au moins 8 caractères')\n    }\n    \n    const response = await $fetch(`${config.public.apiBase}/auth/register-teacher`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: {\n        name: form.value.name,\n        email: form.value.email,\n        password: form.value.password,\n        password_confirmation: form.value.password_confirmation,\n        phone: form.value.phone,\n        specializations: form.value.specializations,\n        experience_years: form.value.experience_years,\n        hourly_rate: form.value.hourly_rate,\n        bio: form.value.bio\n      }\n    })\n    \n    console.log('✅ Enseignant inscrit avec succès:', response)\n    \n    // Afficher le toast de succès\n    const { showToast } = useToast()\n    showToast('Inscription réussie ! Vous pouvez maintenant vous connecter.', 'success')\n    \n    // Rediriger vers la page de connexion\n    await navigateTo('/login')\n    \n  } catch (error) {\n    console.error('❌ Erreur lors de l\\'inscription:', error)\n    \n    // Afficher le toast d'erreur\n    const { showToast } = useToast()\n    showToast(error.message || 'Erreur lors de l\\'inscription', 'error')\n    \n  } finally {\n    loading.value = false\n  }\n}\n</script>\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderAttr","_ssrRenderList","_ssrRenderClass","_ssrIncludeBooleanAttr","_ssrLooseContain","_ssrInterpolate","_push","_parent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AA4OA,UAAM,UAAU,IAAI,KAAK;AAEzB,UAAM,OAAO,IAAI;AAAA,MACf,MAAM;AAAA,MACN,OAAO;AAAA,MACP,UAAU;AAAA,MACV,uBAAuB;AAAA,MACvB,OAAO;AAAA,MACP,iBAAiB,CAAA;AAAA;AAAA,MACjB,kBAAkB;AAAA,MAClB,aAAa;AAAA,MACb,KAAK;AAAA,IACP,CAAC;AAGD,UAAM,2BAA2B,IAAI;AAAA,MACnC,EAAE,OAAO,YAAY,OAAO,YAAY,aAAa,wBAAwB,MAAM,KAAI;AAAA,MACvF,EAAE,OAAO,YAAY,OAAO,YAAY,aAAa,oBAAqB,MAAM,KAAI;AAAA,MACpF,EAAE,OAAO,SAAS,OAAO,SAAS,aAAa,iBAAiB,MAAM,KAAI;AAAA,MAC1E,EAAE,OAAO,WAAW,OAAO,WAAW,aAAa,oBAAoB,MAAM,KAAI;AAAA,MACjF,EAAE,OAAO,WAAW,OAAO,WAAW,aAAa,oBAAoB,MAAM,KAAI;AAAA,MACjF,EAAE,OAAO,QAAQ,OAAO,SAAS,aAAa,eAAe,MAAM,KAAI;AAAA,IACzE,CAAC;;;mBAjQMA,eAAAC,WAAA,EAAA,OAAM,6EAA4E,GAAA,MAAA,CAAA,wFAG5EC,cAAA,OAAA,UAA+B,+gCA+BjBA,cAAA,SAAA,KAAA,MAAK,IAAI,yUAaTA,cAAA,SAAA,KAAA,MAAK,KAAK,2VAaVA,cAAA,SAAA,KAAA,MAAK,QAAQ,qWAabA,cAAA,SAAA,KAAA,MAAK,qBAAqB,mTAW1BA,cAAA,SAAA,KAAA,MAAK,KAAK,8SAUHA,cAAA,SAAA,KAAA,MAAK,gBAAgB;AA4BdC,oBAAA,yBAAA,QAAlB,mBAAc;6BAGbC,eAAA,CAAA,KAAA,MAAK,gBAAgB,SAAS,eAAe,KAAK,gOAMvD,MAAE,oBAAsB,eAAe,KAAK,IACpCC,sBAAA,MAAA,QAAA,KAAA,MAAK,eAAe,IAApBC,gBAAA,KAAA,MAAK,iBACN,eAAe,KAAK,IADnB,KAAA,MAAK,eAAe,IAAA,aAAA,mBAC5B,SAAO,eAAe,KAAK,mHAItB,OAAG,oBAAsB,eAAe,KAAK,sFACpBC,eAAA,eAAe,IAAI,uDAENA,eAAA,eAAe,KAAK,6CACxBA,eAAA,eAAe,WAAW;;;UAO7D,KAAA,MAAK,gBAAgB,WAAM,GAAA;;;;;o2BA+BdL,cAAA,SAAA,KAAA,MAAK,WAAW,oiBAazBK,eAAA,KAAA,MAAK,GAAG;;QAYrB,IAAG;AAAA,QACH,OAAM;AAAA;yBAFR,CAKW,GAAAC,QAAAC,UAAA,aAAA;;;;;8BAFV,2BAED;AAAA;;;;;AAIa,YAAA,wBAAAJ,sBAAA,QAAA,SAAW,KAAA,MAAK,aAAa,KAAA,MAAK,qBAAqB,IAAA,cAAA,EAAA,oPAAA;UAGvD,QAAA,OAAO;;;;;oCAIT,QAAA,QAAO,4BAAA,YAAA,CAAA,iDAAA;AAAA;;;;;;;;;"}