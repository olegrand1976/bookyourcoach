{"version":3,"file":"test-auth-CDCWNLTq.js","sources":["../../../../pages/test-auth.vue"],"sourcesContent":["<template>\n    <div class=\"p-8\">\n        <h1 class=\"text-2xl font-bold mb-4\">üîç Test Authentification Simple</h1>\n\n        <div class=\"bg-gray-100 p-4 rounded mb-4\">\n            <h2 class=\"text-lg font-semibold mb-2\">√âtat actuel</h2>\n            <p><strong>Utilisateur:</strong> {{ user?.name || 'Non connect√©' }}</p>\n            <p><strong>Email:</strong> {{ user?.email || 'N/A' }}</p>\n            <p><strong>R√¥le:</strong> <span class=\"font-bold\"\n                    :class=\"user?.role === 'admin' ? 'text-green-600' : 'text-red-600'\">{{ user?.role || 'N/A' }}</span>\n            </p>\n            <p><strong>Authentifi√©:</strong> {{ isAuthenticated ? '‚úÖ Oui' : '‚ùå Non' }}</p>\n        </div>\n\n        <div class=\"space-y-2 mb-4\">\n            <button @click=\"login\" class=\"bg-blue-500 text-white px-4 py-2 rounded mr-2\">Se connecter</button>\n            <button @click=\"refresh\" class=\"bg-green-500 text-white px-4 py-2 rounded mr-2\">Rafra√Æchir</button>\n            <button @click=\"logout\" class=\"bg-red-500 text-white px-4 py-2 rounded\">Se d√©connecter</button>\n        </div>\n\n        <div class=\"bg-black text-green-400 p-4 rounded font-mono text-sm\">\n            <div v-for=\"log in logs\" :key=\"log.id\">{{ log.message }}</div>\n        </div>\n    </div>\n</template>\n\n<script setup>\nconst authStore = useAuthStore()\nconst { $api } = useNuxtApp()\n\nconst user = computed(() => authStore.user)\nconst isAuthenticated = computed(() => authStore.isAuthenticated)\n\nconst logs = ref([])\nlet logId = 0\n\nfunction addLog(message) {\n    logs.value.push({\n        id: logId++,\n        message: `[${new Date().toLocaleTimeString()}] ${message}`\n    })\n}\n\nasync function login() {\n    addLog('üîÑ Tentative de connexion...')\n    try {\n        await authStore.login({\n            email: 'admin.secours@bookyourcoach.com',\n            password: 'secours123'\n        })\n        addLog(`‚úÖ Connexion r√©ussie - Role: ${authStore.user?.role}`)\n    } catch (error) {\n        addLog(`‚ùå Erreur: ${error.message}`)\n    }\n}\n\nasync function refresh() {\n    addLog('üîÑ Rafra√Æchissement...')\n    try {\n        await authStore.fetchUser()\n        addLog(`‚úÖ Rafra√Æchi - Role: ${authStore.user?.role}`)\n    } catch (error) {\n        addLog(`‚ùå Erreur: ${error.message}`)\n    }\n}\n\nasync function logout() {\n    addLog('üîÑ D√©connexion...')\n    await authStore.logout()\n    addLog('‚úÖ D√©connect√©')\n}\n\nonMounted(() => {\n    addLog('üöÄ Page charg√©e')\n})\n</script>\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrInterpolate","_unref","_ssrRenderClass","_ssrRenderList"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AA2BA,UAAM,YAAY,aAAY;AAC9B,UAAM,EAAE,KAAI,IAAK,WAAU;AAE3B,UAAM,OAAO,SAAS,MAAM,UAAU,IAAI;AAC1C,UAAM,kBAAkB,SAAS,MAAM,UAAU,eAAe;AAEhE,UAAM,OAAO,IAAI,CAAA,CAAE;;;mBAhCVA,eAAAC,WAAA,EAAA,OAAM,MAAK,GAAA,MAAA,CAAA,+MAK4BC,iBAAAC,WAAA,IAAA,MAAAA,mBAAM,SAAI,cAAA,mCAChBD,iBAAAC,WAAA,IAAA,MAAAA,mBAAM,UAAK,KAAA,+CAEzBC,eAAA,GAAAD,WAAA,IAAA,MAAAA,mBAAM,UAAI,UAAA,mBAAA,gBAAA,WAAA,CAAA,MAAqDD,iBAAAC,WAAA,IAAA,MAAAA,mBAAM,SAAI,KAAA,+DAErDA,MAAA,eAAA,IAAe,UAAA,OAAA;AAUhCE,oBAAAF,MAAA,IAAA,IAAP,QAAG;AAA2B,cAAA,QAAAD,eAAA,IAAI,OAAO,CAAA,QAAA;AAAA;;;;;;;;;;;"}