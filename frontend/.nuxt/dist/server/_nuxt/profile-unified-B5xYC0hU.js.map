{"version":3,"file":"profile-unified-B5xYC0hU.js","sources":["../../../../pages/club/profile-unified.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen bg-equestrian-cream\">\n    <div class=\"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8\">\n      <!-- Header -->\n      <div class=\"mb-8\">\n        <h1 class=\"text-3xl font-bold text-equestrian-darkBrown flex items-center\">\n          <span class=\"text-4xl mr-3\">üè¢</span>\n          Profil du Club\n        </h1>\n        <p class=\"mt-2 text-equestrian-brown\">G√©rez les informations et activit√©s de votre club</p>\n      </div>\n\n      <!-- Profile Form -->\n      <div class=\"bg-white shadow-lg rounded-lg border border-equestrian-gold/20\">\n        <form @submit.prevent=\"updateClub\" class=\"space-y-6 p-6\">\n          <!-- Informations g√©n√©rales -->\n          <div class=\"border-b border-gray-200 pb-6\">\n            <h2 class=\"text-lg font-semibold text-equestrian-darkBrown mb-4 flex items-center\">\n              <span class=\"text-xl mr-2\">üìã</span>\n              Informations g√©n√©rales\n            </h2>\n\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Nom du club</label>\n                <input v-model=\"form.name\" type=\"text\" class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-equestrian-gold focus:border-transparent\"\n                  placeholder=\"Nom de votre club\" required />\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Email de contact</label>\n                <input v-model=\"form.email\" type=\"email\" class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-equestrian-gold focus:border-transparent\"\n                  placeholder=\"contact@votreclub.com\" required />\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">T√©l√©phone</label>\n                <input v-model=\"form.phone\" type=\"tel\" class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-equestrian-gold focus:border-transparent\"\n                  placeholder=\"+33 1 23 45 67 89\" />\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Site web</label>\n                <input v-model=\"form.website\" type=\"url\" class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-equestrian-gold focus:border-transparent\"\n                  placeholder=\"https://votreclub.com\" />\n              </div>\n            </div>\n\n            <div class=\"mt-6\">\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Description</label>\n              <textarea v-model=\"form.description\" rows=\"3\" class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-equestrian-gold focus:border-transparent\"\n                placeholder=\"D√©crivez votre club, ses valeurs et ses services...\"></textarea>\n            </div>\n          </div>\n\n          <!-- Adresse -->\n          <div class=\"border-b border-gray-200 pb-6\">\n            <h2 class=\"text-lg font-semibold text-equestrian-darkBrown mb-4 flex items-center\">\n              <span class=\"text-xl mr-2\">üìç</span>\n              Adresse\n            </h2>\n\n            <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              <div class=\"md:col-span-2\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Adresse</label>\n                <input v-model=\"form.address\" type=\"text\" class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-equestrian-gold focus:border-transparent\"\n                  placeholder=\"123 Rue de l'√âquitation\" />\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Code postal</label>\n                <input v-model=\"form.postal_code\" type=\"text\" class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-equestrian-gold focus:border-transparent\"\n                  placeholder=\"75001\" />\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Ville</label>\n                <input v-model=\"form.city\" type=\"text\" class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-equestrian-gold focus:border-transparent\"\n                  placeholder=\"Paris\" />\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Pays</label>\n                <input v-model=\"form.country\" type=\"text\" class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-equestrian-gold focus:border-transparent\"\n                  placeholder=\"France\" />\n              </div>\n            </div>\n          </div>\n\n          <!-- Activit√©s du club -->\n          <div class=\"border-b border-gray-200 pb-6\">\n            <h2 class=\"text-lg font-semibold text-equestrian-darkBrown mb-4 flex items-center\">\n              <span class=\"text-xl mr-2\">üèÉ‚Äç‚ôÄÔ∏è</span>\n              Activit√©s propos√©es\n            </h2>\n\n            <div class=\"mb-4\">\n              <p class=\"text-sm text-gray-600 mb-4\">S√©lectionnez les activit√©s que votre club propose :</p>\n              \n              <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div v-for=\"activity in availableActivities\" :key=\"activity.id\" \n                     class=\"flex items-center p-4 border rounded-lg hover:bg-gray-50 transition-colors\"\n                     :class=\"selectedActivities.includes(activity.id) ? 'border-equestrian-gold bg-equestrian-cream' : 'border-gray-200'\">\n                  <input :id=\"'activity-' + activity.id\" \n                         v-model=\"selectedActivities\" \n                         :value=\"activity.id\" \n                         type=\"checkbox\" \n                         class=\"h-4 w-4 text-equestrian-gold focus:ring-equestrian-gold border-gray-300 rounded\">\n                  <label :for=\"'activity-' + activity.id\" class=\"ml-3 flex items-center cursor-pointer\">\n                    <span class=\"text-2xl mr-2\">{{ activity.icon }}</span>\n                    <div>\n                      <div class=\"font-medium text-gray-900\">{{ activity.name }}</div>\n                      <div class=\"text-sm text-gray-500\">{{ activity.description }}</div>\n                    </div>\n                  </label>\n                </div>\n              </div>\n            </div>\n\n            <!-- Sp√©cialit√©s par activit√© -->\n            <div v-if=\"selectedActivities.length > 0\" class=\"mt-6\">\n              <h3 class=\"text-md font-medium text-equestrian-darkBrown mb-3\">Sp√©cialit√©s par activit√©</h3>\n              \n              <div v-for=\"activityId in selectedActivities\" :key=\"activityId\" class=\"mb-4\">\n                <div class=\"bg-gray-50 p-4 rounded-lg\">\n                  <h4 class=\"font-medium text-gray-900 mb-2 flex items-center\">\n                    <span class=\"text-lg mr-2\">{{ getActivityById(activityId)?.icon }}</span>\n                    {{ getActivityById(activityId)?.name }}\n                  </h4>\n                  \n                  <div class=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\n                    <label v-for=\"discipline in getDisciplinesByActivity(activityId)\" :key=\"discipline.id\"\n                           class=\"flex items-center p-2 text-sm\">\n                      <input :id=\"'discipline-' + discipline.id\" \n                             v-model=\"selectedDisciplines\" \n                             :value=\"discipline.id\" \n                             type=\"checkbox\" \n                             class=\"h-3 w-3 text-equestrian-gold focus:ring-equestrian-gold border-gray-300 rounded mr-2\">\n                      <span class=\"text-gray-700\">{{ discipline.name }}</span>\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Statut du club -->\n          <div class=\"pb-6\">\n            <h2 class=\"text-lg font-semibold text-equestrian-darkBrown mb-4 flex items-center\">\n              <span class=\"text-xl mr-2\">‚öôÔ∏è</span>\n              Param√®tres\n            </h2>\n\n            <div class=\"flex items-center\">\n              <input v-model=\"form.is_active\" type=\"checkbox\" id=\"is_active\" \n                     class=\"h-4 w-4 text-equestrian-gold focus:ring-equestrian-gold border-gray-300 rounded\">\n              <label for=\"is_active\" class=\"ml-2 text-sm text-gray-700\">\n                Club actif (visible sur la plateforme)\n              </label>\n            </div>\n          </div>\n\n          <!-- Actions -->\n          <div class=\"flex justify-end space-x-4 pt-6 border-t border-gray-200\">\n            <button type=\"button\" @click=\"cancelEdit\" \n                    class=\"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-equestrian-gold\">\n              Annuler\n            </button>\n            <button type=\"submit\" :disabled=\"loading\"\n                    class=\"px-6 py-2 bg-equestrian-gold text-white rounded-md hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-equestrian-gold disabled:opacity-50\">\n              <span v-if=\"loading\">Enregistrement...</span>\n              <span v-else>Enregistrer les modifications</span>\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nconst authStore = useAuthStore()\nconst loading = ref(false)\n\n// Donn√©es du formulaire\nconst form = ref({\n  name: '',\n  email: '',\n  phone: '',\n  website: '',\n  description: '',\n  address: '',\n  city: '',\n  postal_code: '',\n  country: '',\n  is_active: true\n})\n\n// Activit√©s et sp√©cialit√©s\nconst availableActivities = ref([])\nconst selectedActivities = ref([])\nconst selectedDisciplines = ref([])\n\n// Charger les donn√©es\nconst loadClubData = async () => {\n  try {\n    const config = useRuntimeConfig()\n    const response = await $fetch(`${config.public.apiBase}/club/profile-test`)\n    \n    if (response.user && response.user.club) {\n      const club = response.user.club\n      form.value = {\n        name: club.name || '',\n        email: club.email || '',\n        phone: club.phone || '',\n        website: club.website || '',\n        description: club.description || '',\n        address: club.address || '',\n        city: club.city || '',\n        postal_code: club.postal_code || '',\n        country: club.country || '',\n        is_active: club.is_active !== false\n      }\n    }\n  } catch (error) {\n    console.error('Erreur lors du chargement du profil:', error)\n  }\n}\n\n// Charger les activit√©s disponibles\nconst loadActivities = async () => {\n  try {\n    const config = useRuntimeConfig()\n    const response = await $fetch(`${config.public.apiBase}/activity-types`)\n    availableActivities.value = response.data || []\n  } catch (error) {\n    console.error('Erreur lors du chargement des activit√©s:', error)\n  }\n}\n\n// M√©thodes utilitaires\nconst getActivityById = (id) => {\n  return availableActivities.value.find(activity => activity.id === id)\n}\n\nconst getDisciplinesByActivity = (activityId) => {\n  // Cette fonction devrait charger les disciplines depuis l'API\n  // Pour l'instant, retournons des donn√©es statiques\n  const disciplines = {\n    1: [ // √âquitation\n      { id: 1, name: 'Dressage' },\n      { id: 2, name: 'Saut d\\'obstacles' },\n      { id: 3, name: 'Complet' },\n      { id: 4, name: 'Endurance' }\n    ],\n    2: [ // Natation\n      { id: 5, name: 'Crawl' },\n      { id: 6, name: 'Brasse' },\n      { id: 7, name: 'Papillon' },\n      { id: 8, name: 'Aquagym' }\n    ],\n    3: [ // Salle de sport\n      { id: 9, name: 'Musculation' },\n      { id: 10, name: 'Cardio' },\n      { id: 11, name: 'Yoga' },\n      { id: 12, name: 'Pilates' }\n    ],\n    4: [ // Coaching sportif\n      { id: 13, name: 'Perte de poids' },\n      { id: 14, name: 'Prise de masse' },\n      { id: 15, name: 'Pr√©paration physique' },\n      { id: 16, name: 'R√©√©ducation' }\n    ]\n  }\n  return disciplines[activityId] || []\n}\n\n// Actions\nconst updateClub = async () => {\n  loading.value = true\n  try {\n    const config = useRuntimeConfig()\n    const tokenCookie = useCookie('auth-token')\n    \n    const updateData = {\n      ...form.value,\n      activity_types: selectedActivities.value,\n      disciplines: selectedDisciplines.value\n    }\n    \n    await $fetch(`${config.public.apiBase}/club/profile-test`, {\n      method: 'PUT',\n      headers: {\n        'Authorization': `Bearer ${tokenCookie.value}`,\n        'Content-Type': 'application/json'\n      },\n      body: updateData\n    })\n    \n    // Rediriger vers le dashboard\n    await navigateTo('/club/dashboard')\n  } catch (error) {\n    console.error('Erreur lors de la mise √† jour du club:', error)\n  } finally {\n    loading.value = false\n  }\n}\n\nconst cancelEdit = () => {\n  navigateTo('/club/dashboard')\n}\n\n// Initialisation\nonMounted(async () => {\n  await Promise.all([\n    loadClubData(),\n    loadActivities()\n  ])\n})\n\nuseHead({\n  title: 'Profil du Club | activibe',\n  meta: [\n    { name: 'description', content: 'G√©rez les informations et activit√©s de votre club sur activibe' }\n  ]\n})\n</script>\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderAttr","_unref","_ssrInterpolate","_ssrRenderList","_ssrRenderClass","_ssrIncludeBooleanAttr","_ssrLooseContain"],"mappings":"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"}