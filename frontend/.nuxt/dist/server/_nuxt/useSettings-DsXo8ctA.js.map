{"version":3,"file":"useSettings-DsXo8ctA.js","sources":["../../../../composables/useSettings.ts"],"sourcesContent":["import { ref, readonly } from 'vue'\n\n/**\n * Composable pour la gestion des paramètres système\n */\nexport const useSettings = () => {\n    // État réactif pour les paramètres\n    const settings = ref({\n        platform_name: 'BookYourCoach',\n        contact_email: 'contact@bookyourcoach.fr',\n        contact_phone: '+32 2 123 45 67',\n        company_address: 'Rue de l\\'Équitation 123\\n1000 Bruxelles\\nBelgique',\n        timezone: 'Europe/Brussels',\n        logo_url: '/logo.png',\n        favicon_url: '/favicon.ico'\n    })\n\n    // Charger les paramètres depuis l'API\n    const loadSettings = async () => {\n        try {\n            const { $api } = useNuxtApp()\n            const response = await $api.get('/admin/settings/general')\n\n            if (response.data) {\n                settings.value = { ...settings.value, ...response.data }\n            }\n        } catch (error) {\n            console.warn('Impossible de charger les paramètres:', error)\n            // Les valeurs par défaut sont conservées\n        }\n    }\n\n    // Sauvegarder les paramètres\n    const saveSettings = async (newSettings: Partial<typeof settings.value>) => {\n        try {\n            const { $api } = useNuxtApp()\n            const response = await $api.put('/admin/settings/general', newSettings)\n\n            if (response.data?.message) {\n                settings.value = { ...settings.value, ...newSettings }\n                console.log('✅ Paramètres sauvegardés:', response.data.message)\n                return true\n            }\n            return false\n        } catch (error) {\n            console.error('❌ Erreur lors de la sauvegarde:', error)\n            return false\n        }\n    }\n\n    return {\n        settings, // Retiré: readonly()\n        loadSettings,\n        saveSettings\n    }\n}\n"],"names":[],"mappings":";;AAKO,MAAM,cAAc,MAAM;AAE7B,QAAM,WAAW,IAAI;AAAA,IACjB,eAAe;AAAA,IACf,eAAe;AAAA,IACf,eAAe;AAAA,IACf,iBAAiB;AAAA,IACjB,UAAU;AAAA,IACV,UAAU;AAAA,IACV,aAAa;AAAA,EAAA,CAChB;AAGD,QAAM,eAAe,YAAY;AAC7B,QAAI;AACA,YAAM,EAAE,KAAA,IAAS,WAAA;AACjB,YAAM,WAAW,MAAM,KAAK,IAAI,yBAAyB;AAEzD,UAAI,SAAS,MAAM;AACf,iBAAS,QAAQ,EAAE,GAAG,SAAS,OAAO,GAAG,SAAS,KAAA;AAAA,MACtD;AAAA,IACJ,SAAS,OAAO;AACZ,cAAQ,KAAK,yCAAyC,KAAK;AAAA,IAE/D;AAAA,EACJ;AAGA,QAAM,eAAe,OAAO,gBAAgD;;AACxE,QAAI;AACA,YAAM,EAAE,KAAA,IAAS,WAAA;AACjB,YAAM,WAAW,MAAM,KAAK,IAAI,2BAA2B,WAAW;AAEtE,WAAI,cAAS,SAAT,mBAAe,SAAS;AACxB,iBAAS,QAAQ,EAAE,GAAG,SAAS,OAAO,GAAG,YAAA;AACzC,gBAAQ,IAAI,6BAA6B,SAAS,KAAK,OAAO;AAC9D,eAAO;AAAA,MACX;AACA,aAAO;AAAA,IACX,SAAS,OAAO;AACZ,cAAQ,MAAM,mCAAmC,KAAK;AACtD,aAAO;AAAA,IACX;AAAA,EACJ;AAEA,SAAO;AAAA,IACH;AAAA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAER;"}