{"version":3,"file":"dashboard-BCD_06OH.js","sources":["../../../../pages/dashboard.vue"],"sourcesContent":["<template>\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <!-- Header -->\n        <div class=\"mb-8\">\n            <h1 class=\"text-3xl font-bold text-gray-900\">\n                {{ t('dashboard.title', { name: authStore.userName }) }}\n            </h1>\n            <p class=\"mt-2 text-gray-600\">\n                {{ t('dashboard.subtitle') }}\n            </p>\n        </div>\n\n        <!-- Stats cards -->\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n            <div class=\"card\">\n                <div class=\"flex items-center\">\n                    <div class=\"p-2 bg-primary-100 rounded-lg\">\n                        <CalendarIcon class=\"w-6 h-6 text-primary-600\" />\n                    </div>\n                    <div class=\"ml-4\">\n                        <p class=\"text-sm font-medium text-gray-600\">{{ t('dashboard.upcomingLessons') }}</p>\n                        <p class=\"text-2xl font-bold text-gray-900\">{{ stats.upcoming_lessons }}</p>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"card\">\n                <div class=\"flex items-center\">\n                    <div class=\"p-2 bg-green-100 rounded-lg\">\n                        <CheckCircleIcon class=\"w-6 h-6 text-green-600\" />\n                    </div>\n                    <div class=\"ml-4\">\n                        <p class=\"text-sm font-medium text-gray-600\">{{ t('dashboard.completedLessons') }}</p>\n                        <p class=\"text-2xl font-bold text-gray-900\">{{ stats.completed_lessons }}</p>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"card\">\n                <div class=\"flex items-center\">\n                    <div class=\"p-2 bg-orange-100 rounded-lg\">\n                        <ClockIcon class=\"w-6 h-6 text-orange-600\" />\n                    </div>\n                    <div class=\"ml-4\">\n                        <p class=\"text-sm font-medium text-gray-600\">{{ t('dashboard.totalHours') }}</p>\n                        <p class=\"text-2xl font-bold text-gray-900\">{{ stats.total_hours }}h</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Actions rapides -->\n        <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n            <!-- Prochains cours -->\n            <div class=\"card\">\n                <div class=\"flex items-center justify-between mb-4\">\n                    <h2 class=\"text-lg font-semibold text-gray-900\">{{ t('dashboard.upcomingLessons') }}</h2>\n                    <NuxtLink to=\"/lessons\" class=\"text-primary-600 hover:text-primary-700 text-sm font-medium\">\n                        {{ t('dashboard.viewAll') }}\n                    </NuxtLink>\n                </div>\n\n                <div v-if=\"upcomingLessons.length === 0\" class=\"text-center py-8\">\n                    <CalendarIcon class=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n                    <p class=\"text-gray-500\">{{ t('dashboard.noLessons') }}</p>\n                    <NuxtLink to=\"/lessons/book\" class=\"btn-primary mt-4 inline-block\">\n                        {{ t('dashboard.bookLesson') }}\n                    </NuxtLink>\n                </div>\n\n                <div v-else class=\"space-y-4\">\n                    <div v-for=\"lesson in upcomingLessons\" :key=\"lesson.id\"\n                        class=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\">\n                        <div>\n                            <h3 class=\"font-medium text-gray-900\">{{ lesson.course_type }}</h3>\n                            <p class=\"text-sm text-gray-600\">{{ formatDate(lesson.scheduled_at) }}</p>\n                            <p class=\"text-sm text-gray-600\">{{ t('dashboard.with') }} {{ lesson.teacher_name }}</p>\n                        </div>\n                        <div class=\"text-right\">\n                            <p class=\"font-medium text-gray-900\">{{ lesson.price }}€</p>\n                            <span\n                                class=\"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800\">\n                                {{ t('dashboard.confirmed') }}\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <!-- Actions rapides -->\n            <div class=\"card\">\n                <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">{{ t('dashboard.quickActions') }}</h2>\n\n                <div class=\"space-y-3\">\n                    <NuxtLink to=\"/lessons/book\" class=\"block w-full btn-primary text-center\">\n                        {{ t('dashboard.bookLesson') }}\n                    </NuxtLink>\n\n                    <NuxtLink to=\"/teachers\" class=\"block w-full btn-secondary text-center\">\n                        {{ t('dashboard.browseTeachers') }}\n                    </NuxtLink>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script setup>\nimport {\n    CalendarIcon,\n    CheckCircleIcon,\n    ClockIcon\n} from '@heroicons/vue/24/outline'\nconst { t, locale } = useI18n()\n\ndefinePageMeta({\n    middleware: 'auth'\n})\n\nconst authStore = useAuthStore()\nconst { $api } = useNuxtApp()\n\n// État des données\nconst stats = ref({\n    upcoming_lessons: 0,\n    completed_lessons: 0,\n    total_hours: 0\n})\n\nconst upcomingLessons = ref([])\nconst loading = ref(true)\n\n// Charger les données du dashboard\nconst loadDashboardData = async () => {\n    try {\n        // Utiliser des statistiques par défaut (pas d'API étudiante pour le moment)\n        stats.value = {\n            upcoming_lessons: 0,\n            completed_lessons: 0,\n            total_hours: 0\n        }\n\n        // Charger les prochains cours (si l'API existe)\n        try {\n            const lessonsResponse = await $api.get('/lessons?status=confirmed&limit=5')\n            upcomingLessons.value = lessonsResponse.data.data\n        } catch (lessonError) {\n            // Si l'API leçons n'existe pas encore, utiliser un tableau vide\n            upcomingLessons.value = []\n        }\n    } catch (error) {\n        console.error('Erreur lors du chargement des données:', error)\n        // Valeurs par défaut en cas d'erreur\n        stats.value = {\n            upcoming_lessons: 0,\n            completed_lessons: 0,\n            total_hours: 0\n        }\n        upcomingLessons.value = []\n    } finally {\n        loading.value = false\n    }\n}\n\n// Formatage des dates\nconst formatDate = (dateString) => {\n    const date = new Date(dateString)\n    return date.toLocaleDateString(locale.value, {\n        weekday: 'long',\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n    })\n}\n\n// Charger les données au montage\nonMounted(() => {\n    loadDashboardData()\n})\n</script>\n"],"names":["_ssrRenderAttrs","_mergeProps","_unref","_ssrRenderComponent","_ssrInterpolate","_push","_parent","_ssrRenderList"],"mappings":"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"}