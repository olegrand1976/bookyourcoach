{"file":"test-auth-complete-BczwnG12.js","mappings":";;;;;;;;;;;;;;;;;;;;;AAgDA,UAAM,YAAY,aAAY;AAC9B,UAAM,YAAY,UAAU,YAAY;AACxC,UAAM,YAAY,IAAI,IAAI;AAC1B,UAAM,mBAAmB,IAAI,IAAI;;mBAlD1BA,eAAAC,WAAA,EAAA,OAAM,MAAK,GAAA,MAAA,CAAA,kPAM8BC,eAAAC,MAAA,SAAA,EAAU,eAAe,2CACzBD,eAAA,CAAA,CAAAC,MAAA,SAAA,EAAU,KAAK,kCAC1BD,eAAAC,MAAA,SAAA,EAAU,OAAOA,iBAAU,KAAK,QAAK,OAAA,6CAC1BD,eAAAC,MAAA,SAAA,EAAU,eAAe,6CACzBD,eAAAC,MAAA,SAAA,EAAU,eAAe,qCACjCD,eAAAC,MAAA,SAAA,EAAU,OAAO,qIAKdA,MAAA,SAAA,IAAS,YAAA,QAAA,mDACbA,MAAA,SAAA,IAAYA,MAAA,SAAA,EAAU,UAAS,GAAA,EAAA,IAAA,QAAA,KAAA;UAQnDA,MAAA,SAAA,GAAS;+EACV,KAAK,UAAUA,MAAA,SAAA,GAAS,MAAA,CAAA,CAAA,CAAA,cAAA;AAAA;;;;UAYvBA,MAAA,gBAAA,GAAgB;+EACjBA,MAAA,gBAAA,CAAgB,CAAA,cAAA;AAAA;;;;;;;;;;;;;","names":["_ssrRenderAttrs","_mergeProps","_ssrInterpolate","_unref"],"sources":["../../../../pages/test-auth-complete.vue"],"sourcesContent":["<template>\n  <div class=\"p-8\">\n    <h1 class=\"text-2xl font-bold mb-4\">Test d'authentification complet</h1>\n    \n    <div class=\"space-y-4\">\n      <div class=\"p-4 border rounded\">\n        <h3 class=\"font-semibold\">Ã‰tat du store d'authentification :</h3>\n        <p><strong>isAuthenticated:</strong> {{ authStore.isAuthenticated }}</p>\n        <p><strong>Token prÃ©sent:</strong> {{ !!authStore.token }}</p>\n        <p><strong>User:</strong> {{ authStore.user ? authStore.user.email : 'Aucun' }}</p>\n        <p><strong>canActAsTeacher:</strong> {{ authStore.canActAsTeacher }}</p>\n        <p><strong>canActAsStudent:</strong> {{ authStore.canActAsStudent }}</p>\n        <p><strong>isAdmin:</strong> {{ authStore.isAdmin }}</p>\n      </div>\n      \n      <div class=\"p-4 border rounded\">\n        <h3 class=\"font-semibold\">Cookies :</h3>\n        <p><strong>auth-token:</strong> {{ authToken ? 'PrÃ©sent' : 'Absent' }}</p>\n        <p><strong>Valeur:</strong> {{ authToken ? authToken.substring(0, 20) + '...' : 'N/A' }}</p>\n      </div>\n      \n      <div class=\"p-4 border rounded\">\n        <h3 class=\"font-semibold\">Test API :</h3>\n        <button @click=\"testAPI\" class=\"px-4 py-2 bg-blue-500 text-white rounded\">\n          Tester l'API\n        </button>\n        <div v-if=\"apiResult\" class=\"mt-2 p-2 bg-gray-100 rounded\">\n          <pre>{{ JSON.stringify(apiResult, null, 2) }}</pre>\n        </div>\n      </div>\n      \n      <div class=\"p-4 border rounded\">\n        <h3 class=\"font-semibold\">Test de navigation :</h3>\n        <button @click=\"testTeacherDashboard\" class=\"px-4 py-2 bg-green-500 text-white rounded mr-2\">\n          Test Teacher Dashboard\n        </button>\n        <button @click=\"testStudentDashboard\" class=\"px-4 py-2 bg-purple-500 text-white rounded\">\n          Test Student Dashboard\n        </button>\n        <div v-if=\"navigationResult\" class=\"mt-2 p-2 bg-gray-100 rounded\">\n          <pre>{{ navigationResult }}</pre>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nconst authStore = useAuthStore()\nconst authToken = useCookie('auth-token')\nconst apiResult = ref(null)\nconst navigationResult = ref(null)\n\nconst testAPI = async () => {\n  try {\n    const { $api } = useNuxtApp()\n    const response = await $api.get('/auth/user')\n    apiResult.value = response.data\n  } catch (error) {\n    apiResult.value = { error: error.message }\n  }\n}\n\nconst testTeacherDashboard = async () => {\n  try {\n    const response = await $fetch('/teacher/dashboard')\n    navigationResult.value = 'SuccÃ¨s: ' + JSON.stringify(response)\n  } catch (error) {\n    navigationResult.value = 'Erreur: ' + error.message\n  }\n}\n\nconst testStudentDashboard = async () => {\n  try {\n    const response = await $fetch('/student/dashboard')\n    navigationResult.value = 'SuccÃ¨s: ' + JSON.stringify(response)\n  } catch (error) {\n    navigationResult.value = 'Erreur: ' + error.message\n  }\n}\n\n// Initialiser l'authentification au chargement\nonMounted(async () => {\n  console.log('ðŸ”„ [TEST] Initialisation de la page de test')\n  await authStore.initializeAuth()\n  console.log('âœ… [TEST] Authentification initialisÃ©e')\n})\n</script>\n"],"version":3}