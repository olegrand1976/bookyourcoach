{"version":3,"file":"contracts-C2ybpdFk.js","sources":["../../../../pages/admin/contracts.vue"],"sourcesContent":["<template>\n  <div class=\"p-8\">\n    <h1 class=\"text-3xl font-bold text-gray-900 mb-2\">Gestion des Contrats</h1>\n    <p class=\"text-gray-600 mb-8\">Gérez les types de contrats et suivez les contrats des enseignants.</p>\n\n    <!-- Navigation par onglets -->\n    <div class=\"mb-8\">\n      <nav class=\"flex space-x-8\">\n        <button \n          @click=\"activeTab = 'types'\"\n          :class=\"activeTab === 'types' ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700'\"\n          class=\"whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm\"\n        >\n          Types de Contrats\n        </button>\n        <button \n          @click=\"activeTab = 'teachers'\"\n          :class=\"activeTab === 'teachers' ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700'\"\n          class=\"whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm\"\n        >\n          Enseignants & Contrats\n        </button>\n        <button \n          @click=\"activeTab = 'payments'\"\n          :class=\"activeTab === 'payments' ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700'\"\n          class=\"whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm\"\n        >\n          Paiements & Heures\n        </button>\n        <button \n          @click=\"activeTab = 'settings'\"\n          :class=\"activeTab === 'settings' ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700'\"\n          class=\"whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm\"\n        >\n          Paramètres\n        </button>\n      </nav>\n    </div>\n\n    <!-- Contenu des onglets -->\n    <div v-if=\"loading\" class=\"text-center py-8\">\n      <div class=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      <p class=\"mt-2 text-gray-600\">Chargement...</p>\n    </div>\n\n    <div v-else-if=\"error\" class=\"bg-red-50 border border-red-200 text-red-800 p-4 rounded-lg\">\n      <p>Une erreur est survenue : {{ error }}</p>\n    </div>\n\n    <!-- Onglet Types de Contrats -->\n    <div v-else-if=\"activeTab === 'types'\" class=\"space-y-6\">\n      <div class=\"bg-white rounded-lg shadow border border-gray-200 p-6\">\n        <h2 class=\"text-xl font-bold text-gray-800 mb-4\">Configuration des Types de Contrats</h2>\n        \n        <form @submit.prevent=\"saveContractTypes\" class=\"space-y-6\">\n          <!-- Contrat Bénévole -->\n          <div class=\"border border-gray-200 rounded-lg p-6\">\n            <div class=\"flex items-center justify-between mb-4\">\n              <div>\n                <h3 class=\"text-lg font-semibold text-gray-800\">Contrat Bénévole</h3>\n                <p class=\"text-gray-500 text-sm\">Plafonds et indemnités pour les volontaires</p>\n              </div>\n              <div class=\"flex items-center space-x-2\">\n                <span class=\"text-sm text-gray-500\">Actif</span>\n                <label class=\"relative inline-flex items-center cursor-pointer\">\n                  <input v-model=\"contractTypes.volunteer.active\" type=\"checkbox\" class=\"sr-only peer\">\n                  <div class=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\n                </label>\n              </div>\n            </div>\n\n            <div v-if=\"contractTypes.volunteer.active\" class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Plafond annuel (€)</label>\n                <input v-model.number=\"contractTypes.volunteer.annual_ceiling\" type=\"number\" step=\"0.01\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\">\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Plafond journalier (€)</label>\n                <input v-model.number=\"contractTypes.volunteer.daily_ceiling\" type=\"number\" step=\"0.01\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\">\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Indemnité kilométrique (€/km)</label>\n                <input v-model.number=\"contractTypes.volunteer.mileage_allowance\" type=\"number\" step=\"0.01\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\">\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Plafond kilométrique annuel (km)</label>\n                <input v-model.number=\"contractTypes.volunteer.max_annual_mileage\" type=\"number\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\">\n              </div>\n            </div>\n          </div>\n\n          <!-- Contrat Étudiant -->\n          <div class=\"border border-gray-200 rounded-lg p-6\">\n            <div class=\"flex items-center justify-between mb-4\">\n              <div>\n                <h3 class=\"text-lg font-semibold text-gray-800\">Contrat Étudiant</h3>\n                <p class=\"text-gray-500 text-sm\">Contrat pour étudiants en formation</p>\n              </div>\n              <div class=\"flex items-center space-x-2\">\n                <span class=\"text-sm text-gray-500\">Actif</span>\n                <label class=\"relative inline-flex items-center cursor-pointer\">\n                  <input v-model=\"contractTypes.student.active\" type=\"checkbox\" class=\"sr-only peer\">\n                  <div class=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\n                </label>\n              </div>\n            </div>\n\n            <div v-if=\"contractTypes.student.active\" class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Plafond annuel (€)</label>\n                <input v-model.number=\"contractTypes.student.annual_ceiling\" type=\"number\" step=\"0.01\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\">\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Plafond journalier (€)</label>\n                <input v-model.number=\"contractTypes.student.daily_ceiling\" type=\"number\" step=\"0.01\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\">\n              </div>\n            </div>\n          </div>\n\n          <!-- Contrat Article 17 -->\n          <div class=\"border border-gray-200 rounded-lg p-6\">\n            <div class=\"flex items-center justify-between mb-4\">\n              <div>\n                <h3 class=\"text-lg font-semibold text-gray-800\">Contrat Article 17</h3>\n                <p class=\"text-gray-500 text-sm\">Contrat spécifique Article 17</p>\n              </div>\n              <div class=\"flex items-center space-x-2\">\n                <span class=\"text-sm text-gray-500\">Actif</span>\n                <label class=\"relative inline-flex items-center cursor-pointer\">\n                  <input v-model=\"contractTypes.article17.active\" type=\"checkbox\" class=\"sr-only peer\">\n                  <div class=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\n                </label>\n              </div>\n            </div>\n\n            <div v-if=\"contractTypes.article17.active\" class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Plafond annuel (€)</label>\n                <input v-model.number=\"contractTypes.article17.annual_ceiling\" type=\"number\" step=\"0.01\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\">\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Plafond journalier (€)</label>\n                <input v-model.number=\"contractTypes.article17.daily_ceiling\" type=\"number\" step=\"0.01\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\">\n              </div>\n            </div>\n          </div>\n\n          <!-- Contrat Indépendant -->\n          <div class=\"border border-gray-200 rounded-lg p-6\">\n            <div class=\"flex items-center justify-between mb-4\">\n              <div>\n                <h3 class=\"text-lg font-semibold text-gray-800\">Contrat Indépendant</h3>\n                <p class=\"text-gray-500 text-sm\">Travailleur indépendant</p>\n              </div>\n              <div class=\"flex items-center space-x-2\">\n                <span class=\"text-sm text-gray-500\">Actif</span>\n                <label class=\"relative inline-flex items-center cursor-pointer\">\n                  <input v-model=\"contractTypes.freelance.active\" type=\"checkbox\" class=\"sr-only peer\">\n                  <div class=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\n                </label>\n              </div>\n            </div>\n\n            <div v-if=\"contractTypes.freelance.active\" class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Plafond annuel (€)</label>\n                <input v-model.number=\"contractTypes.freelance.annual_ceiling\" type=\"number\" step=\"0.01\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\">\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Plafond journalier (€)</label>\n                <input v-model.number=\"contractTypes.freelance.daily_ceiling\" type=\"number\" step=\"0.01\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\">\n              </div>\n            </div>\n          </div>\n\n          <!-- Contrat Salarié -->\n          <div class=\"border border-gray-200 rounded-lg p-6\">\n            <div class=\"flex items-center justify-between mb-4\">\n              <div>\n                <h3 class=\"text-lg font-semibold text-gray-800\">Contrat Salarié</h3>\n                <p class=\"text-gray-500 text-sm\">Employé salarié</p>\n              </div>\n              <div class=\"flex items-center space-x-2\">\n                <span class=\"text-sm text-gray-500\">Actif</span>\n                <label class=\"relative inline-flex items-center cursor-pointer\">\n                  <input v-model=\"contractTypes.salaried.active\" type=\"checkbox\" class=\"sr-only peer\">\n                  <div class=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\n                </label>\n              </div>\n            </div>\n\n            <div v-if=\"contractTypes.salaried.active\" class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Plafond annuel (€)</label>\n                <input v-model.number=\"contractTypes.salaried.annual_ceiling\" type=\"number\" step=\"0.01\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\">\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Plafond journalier (€)</label>\n                <input v-model.number=\"contractTypes.salaried.daily_ceiling\" type=\"number\" step=\"0.01\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\">\n              </div>\n            </div>\n          </div>\n\n          <div class=\"flex justify-end pt-6 border-t border-gray-200\">\n            <button \n              type=\"submit\" \n              :disabled=\"isSaving\"\n              class=\"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50\"\n            >\n              <span v-if=\"isSaving\">Sauvegarde...</span>\n              <span v-else>Enregistrer les modifications</span>\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n\n    <!-- Onglet Enseignants & Contrats -->\n    <div v-else-if=\"activeTab === 'teachers'\" class=\"space-y-6\">\n      <div class=\"bg-white rounded-lg shadow border border-gray-200 p-6\">\n        <div class=\"flex items-center justify-between mb-6\">\n          <h2 class=\"text-xl font-bold text-gray-800\">Enseignants & Contrats</h2>\n          <div class=\"flex space-x-3\">\n            <select v-model=\"selectedYear\" @change=\"loadTeachersData\" class=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\">\n              <option v-for=\"year in availableYears\" :key=\"year\" :value=\"year\">{{ year }}</option>\n            </select>\n            <select v-model=\"exceedanceFilter\" @change=\"applyExceedanceFilter\" class=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\">\n              <option value=\"all\">Tous les enseignants</option>\n              <option value=\"green\">🟢 Dans les limites</option>\n              <option value=\"orange\">🟠 Zone d'attention</option>\n              <option value=\"red\">🔴 Zone critique</option>\n              <option value=\"black\">⚫ Dépassements</option>\n            </select>\n            <button @click=\"loadTeachersData\" class=\"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700\">\n              Actualiser\n            </button>\n          </div>\n        </div>\n\n        <!-- Détail des Dépassements par Statut -->\n        <div class=\"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6\">\n          <h3 class=\"text-lg font-semibold text-gray-800 mb-4\">Répartition par Statut de Dépassement</h3>\n          <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            <!-- Statut Vert -->\n            <div @click=\"filterByStatus('green')\" \n                 class=\"bg-green-50 border border-green-200 rounded-lg p-3 cursor-pointer hover:bg-green-100 transition-colors\"\n                 :class=\"{ 'ring-2 ring-green-500': exceedanceFilter === 'green' }\">\n              <div class=\"flex items-center justify-between\">\n                <div class=\"flex items-center space-x-2\">\n                  <div class=\"w-3 h-3 bg-green-500 rounded-full\"></div>\n                  <div>\n                    <p class=\"text-sm font-medium text-gray-600\">Dans les limites</p>\n                    <p class=\"text-xs text-gray-500\">&lt; {{ exceedanceThresholds.orange }}%</p>\n                  </div>\n                </div>\n                <div class=\"text-right\">\n                  <p class=\"text-xl font-bold text-green-600\">{{ exceedanceStats.green }}</p>\n                </div>\n              </div>\n            </div>\n\n            <!-- Statut Orange -->\n            <div @click=\"filterByStatus('orange')\" \n                 class=\"bg-orange-50 border border-orange-200 rounded-lg p-3 cursor-pointer hover:bg-orange-100 transition-colors\"\n                 :class=\"{ 'ring-2 ring-orange-500': exceedanceFilter === 'orange' }\">\n              <div class=\"flex items-center justify-between\">\n                <div class=\"flex items-center space-x-2\">\n                  <div class=\"w-3 h-3 bg-orange-500 rounded-full\"></div>\n                  <div>\n                    <p class=\"text-sm font-medium text-gray-600\">Zone d'attention</p>\n                    <p class=\"text-xs text-gray-500\">{{ exceedanceThresholds.orange }}% - {{ exceedanceThresholds.red }}%</p>\n                  </div>\n                </div>\n                <div class=\"text-right\">\n                  <p class=\"text-xl font-bold text-orange-600\">{{ exceedanceStats.orange }}</p>\n                </div>\n              </div>\n            </div>\n\n            <!-- Statut Rouge -->\n            <div @click=\"filterByStatus('red')\" \n                 class=\"bg-red-50 border border-red-200 rounded-lg p-3 cursor-pointer hover:bg-red-100 transition-colors\"\n                 :class=\"{ 'ring-2 ring-red-500': exceedanceFilter === 'red' }\">\n              <div class=\"flex items-center justify-between\">\n                <div class=\"flex items-center space-x-2\">\n                  <div class=\"w-3 h-3 bg-red-500 rounded-full\"></div>\n                  <div>\n                    <p class=\"text-sm font-medium text-gray-600\">Zone critique</p>\n                    <p class=\"text-xs text-gray-500\">{{ exceedanceThresholds.red }}% - 100%</p>\n                  </div>\n                </div>\n                <div class=\"text-right\">\n                  <p class=\"text-xl font-bold text-red-600\">{{ exceedanceStats.red }}</p>\n                </div>\n              </div>\n            </div>\n\n            <!-- Statut Noir -->\n            <div @click=\"filterByStatus('black')\" \n                 class=\"bg-gray-50 border border-gray-200 rounded-lg p-3 cursor-pointer hover:bg-gray-100 transition-colors\"\n                 :class=\"{ 'ring-2 ring-gray-500': exceedanceFilter === 'black' }\">\n              <div class=\"flex items-center justify-between\">\n                <div class=\"flex items-center space-x-2\">\n                  <div class=\"w-3 h-3 bg-gray-800 rounded-full\"></div>\n                  <div>\n                    <p class=\"text-sm font-medium text-gray-600\">Dépassements</p>\n                    <p class=\"text-xs text-gray-500\">&gt; 100%</p>\n                  </div>\n                </div>\n                <div class=\"text-right\">\n                  <p class=\"text-xl font-bold text-gray-800\">{{ exceedanceStats.black }}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Liste des enseignants -->\n        <div class=\"space-y-4\">\n          <div v-for=\"teacher in filteredTeachers\" :key=\"teacher.id\" class=\"border border-gray-200 rounded-lg p-4\">\n            <div class=\"flex items-center justify-between mb-4\">\n              <div class=\"flex items-center space-x-4\">\n                <div class=\"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center\">\n                  <span class=\"text-blue-600 font-semibold\">{{ teacher.first_name?.charAt(0) || teacher.name?.charAt(0) }}</span>\n                </div>\n                <div>\n                  <h3 class=\"font-semibold text-gray-900\">{{ teacher.first_name }} {{ teacher.last_name }}</h3>\n                  <p class=\"text-sm text-gray-500\">{{ teacher.email }}</p>\n                </div>\n              </div>\n              <div class=\"flex items-center space-x-3\">\n                <span class=\"px-3 py-1 rounded-full text-sm font-medium\" :class=\"getContractStatusClass(teacher.current_contract)\">\n                  {{ getContractTypeLabel(teacher.current_contract?.type) }}\n                </span>\n                \n                <!-- Indicateur de statut principal -->\n                <div class=\"flex items-center space-x-2\">\n                  <div v-for=\"indicator in getExceedanceIndicators(teacher)\" :key=\"indicator.type\" \n                       class=\"flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium\"\n                       :class=\"getIndicatorBadgeClass(indicator.status)\">\n                    <div class=\"w-2 h-2 rounded-full\" :class=\"indicator.color\"></div>\n                    <span>{{ indicator.label }}</span>\n                  </div>\n                </div>\n                \n                <!-- Indicateurs détaillés -->\n                <div class=\"flex space-x-1\" v-if=\"getExceedanceIndicators(teacher).length > 0\">\n                  <div v-for=\"indicator in getExceedanceIndicators(teacher)\" :key=\"indicator.type\" \n                       class=\"w-4 h-4 rounded-full border-2 border-white shadow-sm\" \n                       :class=\"indicator.color\"\n                       :title=\"indicator.tooltip\">\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Détails du contrat actuel -->\n            <div v-if=\"teacher.current_contract\" class=\"bg-gray-50 rounded-lg p-4 mb-4\">\n              <h4 class=\"font-medium text-gray-900 mb-3\">Contrat Actuel</h4>\n              <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <div>\n                  <span class=\"text-sm text-gray-500\">Type:</span>\n                  <p class=\"font-medium\">{{ getContractTypeLabel(teacher.current_contract.type) }}</p>\n                </div>\n                <div>\n                  <span class=\"text-sm text-gray-500\">Début:</span>\n                  <p class=\"font-medium\">{{ formatDate(teacher.current_contract.start_date) }}</p>\n                </div>\n                <div>\n                  <span class=\"text-sm text-gray-500\">Fin:</span>\n                  <p class=\"font-medium\">{{ teacher.current_contract.end_date ? formatDate(teacher.current_contract.end_date) : 'Indéterminé' }}</p>\n                </div>\n              </div>\n            </div>\n\n            <!-- Historique des contrats -->\n            <div class=\"border-t pt-4\">\n              <h4 class=\"font-medium text-gray-900 mb-3\">Historique des Contrats</h4>\n              <div class=\"space-y-2\">\n                <div v-for=\"contract in teacher.contract_history\" :key=\"contract.id\" \n                     class=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                  <div class=\"flex items-center space-x-4\">\n                    <span class=\"px-2 py-1 rounded text-xs font-medium\" :class=\"getContractStatusClass(contract)\">\n                      {{ getContractTypeLabel(contract.type) }}\n                    </span>\n                    <span class=\"text-sm text-gray-600\">{{ formatDate(contract.start_date) }} - {{ contract.end_date ? formatDate(contract.end_date) : 'En cours' }}</span>\n                  </div>\n                  <div class=\"text-sm text-gray-500\">\n                    {{ contract.total_hours || 0 }}h • {{ contract.total_amount || 0 }}€\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Onglet Paiements & Heures -->\n    <div v-else-if=\"activeTab === 'payments'\" class=\"space-y-6\">\n      <div class=\"bg-white rounded-lg shadow border border-gray-200 p-6\">\n        <div class=\"flex items-center justify-between mb-6\">\n          <h2 class=\"text-xl font-bold text-gray-800\">Paiements & Heures</h2>\n          <div class=\"flex space-x-3\">\n            <select v-model=\"selectedPeriod\" @change=\"loadPaymentsData\" class=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\">\n              <option value=\"monthly\">Mensuel</option>\n              <option value=\"yearly\">Annuel</option>\n            </select>\n            <select v-model=\"selectedYear\" @change=\"loadPaymentsData\" class=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\">\n              <option v-for=\"year in availableYears\" :key=\"year\" :value=\"year\">{{ year }}</option>\n            </select>\n            <select v-model=\"exceedanceFilter\" @change=\"applyExceedanceFilter\" class=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\">\n              <option value=\"all\">Tous les enseignants</option>\n              <option value=\"green\">🟢 Dans les limites</option>\n              <option value=\"orange\">🟠 Zone d'attention</option>\n              <option value=\"red\">🔴 Zone critique</option>\n              <option value=\"black\">⚫ Dépassements</option>\n            </select>\n          </div>\n        </div>\n\n        <!-- Récapitulatif -->\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n          <div class=\"bg-blue-50 rounded-lg p-4\">\n            <div class=\"flex items-center\">\n              <div class=\"p-2 bg-blue-100 rounded-lg\">\n                <svg class=\"w-6 h-6 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\"></path>\n                </svg>\n              </div>\n              <div class=\"ml-4\">\n                <p class=\"text-sm font-medium text-gray-600\">Total Paiements</p>\n                <p class=\"text-2xl font-semibold text-gray-900\">{{ totalPayments }}€</p>\n              </div>\n            </div>\n          </div>\n          <div class=\"bg-green-50 rounded-lg p-4\">\n            <div class=\"flex items-center\">\n              <div class=\"p-2 bg-green-100 rounded-lg\">\n                <svg class=\"w-6 h-6 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\n                </svg>\n              </div>\n              <div class=\"ml-4\">\n                <p class=\"text-sm font-medium text-gray-600\">Total Heures</p>\n                <p class=\"text-2xl font-semibold text-gray-900\">{{ totalHours }}h</p>\n              </div>\n            </div>\n          </div>\n          <div class=\"bg-purple-50 rounded-lg p-4\">\n            <div class=\"flex items-center\">\n              <div class=\"p-2 bg-purple-100 rounded-lg\">\n                <svg class=\"w-6 h-6 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"></path>\n                </svg>\n              </div>\n              <div class=\"ml-4\">\n                <p class=\"text-sm font-medium text-gray-600\">Enseignants Actifs</p>\n                <p class=\"text-2xl font-semibold text-gray-900\">{{ activeTeachers }}</p>\n              </div>\n            </div>\n          </div>\n          <div class=\"bg-orange-50 rounded-lg p-4\">\n            <div class=\"flex items-center\">\n              <div class=\"p-2 bg-orange-100 rounded-lg\">\n                <svg class=\"w-6 h-6 text-orange-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"></path>\n                </svg>\n              </div>\n              <div class=\"ml-4\">\n                <p class=\"text-sm font-medium text-gray-600\">Dépassements</p>\n                <p class=\"text-2xl font-semibold text-gray-900\">{{ exceededContracts }}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Détail des Dépassements par Statut -->\n        <div class=\"bg-white border border-gray-200 rounded-lg p-6 mb-8\">\n          <h3 class=\"text-lg font-semibold text-gray-800 mb-4\">Répartition par Statut de Dépassement</h3>\n          <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            <!-- Statut Vert -->\n            <div @click=\"filterByStatus('green')\" \n                 class=\"bg-green-50 border border-green-200 rounded-lg p-4 cursor-pointer hover:bg-green-100 transition-colors\"\n                 :class=\"{ 'ring-2 ring-green-500': exceedanceFilter === 'green' }\">\n              <div class=\"flex items-center justify-between\">\n                <div class=\"flex items-center space-x-3\">\n                  <div class=\"w-4 h-4 bg-green-500 rounded-full\"></div>\n                  <div>\n                    <p class=\"text-sm font-medium text-gray-600\">Dans les limites</p>\n                    <p class=\"text-xs text-gray-500\">&lt; {{ exceedanceThresholds.orange }}%</p>\n                  </div>\n                </div>\n                <div class=\"text-right\">\n                  <p class=\"text-2xl font-bold text-green-600\">{{ exceedanceStats.green }}</p>\n                  <p class=\"text-xs text-gray-500\">enseignants</p>\n                </div>\n              </div>\n            </div>\n\n            <!-- Statut Orange -->\n            <div @click=\"filterByStatus('orange')\" \n                 class=\"bg-orange-50 border border-orange-200 rounded-lg p-4 cursor-pointer hover:bg-orange-100 transition-colors\"\n                 :class=\"{ 'ring-2 ring-orange-500': exceedanceFilter === 'orange' }\">\n              <div class=\"flex items-center justify-between\">\n                <div class=\"flex items-center space-x-3\">\n                  <div class=\"w-4 h-4 bg-orange-500 rounded-full\"></div>\n                  <div>\n                    <p class=\"text-sm font-medium text-gray-600\">Zone d'attention</p>\n                    <p class=\"text-xs text-gray-500\">{{ exceedanceThresholds.orange }}% - {{ exceedanceThresholds.red }}%</p>\n                  </div>\n                </div>\n                <div class=\"text-right\">\n                  <p class=\"text-2xl font-bold text-orange-600\">{{ exceedanceStats.orange }}</p>\n                  <p class=\"text-xs text-gray-500\">enseignants</p>\n                </div>\n              </div>\n            </div>\n\n            <!-- Statut Rouge -->\n            <div @click=\"filterByStatus('red')\" \n                 class=\"bg-red-50 border border-red-200 rounded-lg p-4 cursor-pointer hover:bg-red-100 transition-colors\"\n                 :class=\"{ 'ring-2 ring-red-500': exceedanceFilter === 'red' }\">\n              <div class=\"flex items-center justify-between\">\n                <div class=\"flex items-center space-x-3\">\n                  <div class=\"w-4 h-4 bg-red-500 rounded-full\"></div>\n                  <div>\n                    <p class=\"text-sm font-medium text-gray-600\">Zone critique</p>\n                    <p class=\"text-xs text-gray-500\">{{ exceedanceThresholds.red }}% - 100%</p>\n                  </div>\n                </div>\n                <div class=\"text-right\">\n                  <p class=\"text-2xl font-bold text-red-600\">{{ exceedanceStats.red }}</p>\n                  <p class=\"text-xs text-gray-500\">enseignants</p>\n                </div>\n              </div>\n            </div>\n\n            <!-- Statut Noir -->\n            <div @click=\"filterByStatus('black')\" \n                 class=\"bg-gray-50 border border-gray-200 rounded-lg p-4 cursor-pointer hover:bg-gray-100 transition-colors\"\n                 :class=\"{ 'ring-2 ring-gray-500': exceedanceFilter === 'black' }\">\n              <div class=\"flex items-center justify-between\">\n                <div class=\"flex items-center space-x-3\">\n                  <div class=\"w-4 h-4 bg-gray-800 rounded-full\"></div>\n                  <div>\n                    <p class=\"text-sm font-medium text-gray-600\">Dépassements</p>\n                    <p class=\"text-xs text-gray-500\">&gt; 100%</p>\n                  </div>\n                </div>\n                <div class=\"text-right\">\n                  <p class=\"text-2xl font-bold text-gray-800\">{{ exceedanceStats.black }}</p>\n                  <p class=\"text-xs text-gray-500\">enseignants</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Détails par enseignant -->\n        <div class=\"space-y-4\">\n          <div v-for=\"teacher in filteredTeachers\" :key=\"teacher.id\" class=\"border border-gray-200 rounded-lg p-4\">\n            <div class=\"flex items-center justify-between mb-4\">\n              <h3 class=\"font-semibold text-gray-900\">{{ teacher.first_name }} {{ teacher.last_name }}</h3>\n              <div class=\"flex space-x-1\">\n                <div v-for=\"indicator in getExceedanceIndicators(teacher)\" :key=\"indicator.type\" \n                     class=\"w-3 h-3 rounded-full\" \n                     :class=\"indicator.color\"\n                     :title=\"indicator.tooltip\">\n                </div>\n              </div>\n            </div>\n\n            <!-- Récapitulatif mensuel/annuel -->\n            <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n              <div class=\"bg-gray-50 rounded-lg p-3\">\n                <p class=\"text-sm text-gray-500\">Heures {{ selectedPeriod === 'monthly' ? 'ce mois' : 'cette année' }}</p>\n                <p class=\"text-lg font-semibold\">{{ teacher.period_hours || 0 }}h</p>\n              </div>\n              <div class=\"bg-gray-50 rounded-lg p-3\">\n                <p class=\"text-sm text-gray-500\">Montant {{ selectedPeriod === 'monthly' ? 'ce mois' : 'cette année' }}</p>\n                <p class=\"text-lg font-semibold\">{{ teacher.period_amount || 0 }}€</p>\n              </div>\n              <div class=\"bg-gray-50 rounded-lg p-3\">\n                <p class=\"text-sm text-gray-500\">Kilométrage {{ selectedPeriod === 'monthly' ? 'ce mois' : 'cette année' }}</p>\n                <p class=\"text-lg font-semibold\">{{ teacher.period_mileage || 0 }}km</p>\n              </div>\n            </div>\n\n            <!-- Historique des paiements -->\n            <div class=\"border-t pt-4\">\n              <h4 class=\"font-medium text-gray-900 mb-3\">Historique des Paiements</h4>\n              <div class=\"overflow-x-auto\">\n                <table class=\"min-w-full divide-y divide-gray-200\">\n                  <thead class=\"bg-gray-50\">\n                    <tr>\n                      <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Date</th>\n                      <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Montant</th>\n                      <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Heures</th>\n                      <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Kilométrage</th>\n                      <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Statut</th>\n                    </tr>\n                  </thead>\n                  <tbody class=\"bg-white divide-y divide-gray-200\">\n                    <tr v-for=\"payment in teacher.payments\" :key=\"payment.id\">\n                      <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{{ formatDate(payment.date) }}</td>\n                      <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{{ payment.amount }}€</td>\n                      <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{{ payment.hours }}h</td>\n                      <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{{ payment.mileage || 0 }}km</td>\n                      <td class=\"px-6 py-4 whitespace-nowrap\">\n                        <span class=\"px-2 py-1 rounded-full text-xs font-medium\" :class=\"getPaymentStatusClass(payment.status)\">\n                          {{ payment.status }}\n                        </span>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Onglet Paramètres -->\n    <div v-else-if=\"activeTab === 'settings'\" class=\"space-y-6\">\n      <div class=\"bg-white rounded-lg shadow border border-gray-200 p-6\">\n        <h2 class=\"text-xl font-bold text-gray-800 mb-6\">Paramètres des Zones de Dépassement</h2>\n        \n        <form @submit.prevent=\"saveExceedanceSettings\" class=\"space-y-6\">\n          <!-- Configuration des seuils -->\n          <div class=\"bg-gray-50 rounded-lg p-6\">\n            <h3 class=\"text-lg font-semibold text-gray-800 mb-4\">Seuils de Dépassement</h3>\n            <p class=\"text-sm text-gray-600 mb-6\">\n              Configurez les pourcentages qui définissent les différentes zones de dépassement pour les contrats.\n            </p>\n            \n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <!-- Seuil Orange -->\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Seuil Zone d'Attention (Orange)\n                </label>\n                <div class=\"relative\">\n                  <input \n                    v-model.number=\"exceedanceThresholds.orange\" \n                    type=\"number\" \n                    min=\"0\" \n                    max=\"100\" \n                    step=\"1\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500\"\n                    placeholder=\"80\"\n                  />\n                  <div class=\"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none\">\n                    <span class=\"text-gray-500 sm:text-sm\">%</span>\n                  </div>\n                </div>\n                <p class=\"text-xs text-gray-500 mt-1\">\n                  Enseignants entre {{ exceedanceThresholds.orange }}% et {{ exceedanceThresholds.red }}% des plafonds\n                </p>\n              </div>\n\n              <!-- Seuil Rouge -->\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Seuil Zone Critique (Rouge)\n                </label>\n                <div class=\"relative\">\n                  <input \n                    v-model.number=\"exceedanceThresholds.red\" \n                    type=\"number\" \n                    min=\"0\" \n                    max=\"100\" \n                    step=\"1\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500\"\n                    placeholder=\"95\"\n                  />\n                  <div class=\"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none\">\n                    <span class=\"text-gray-500 sm:text-sm\">%</span>\n                  </div>\n                </div>\n                <p class=\"text-xs text-gray-500 mt-1\">\n                  Enseignants entre {{ exceedanceThresholds.red }}% et 100% des plafonds\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Aperçu des zones -->\n          <div class=\"bg-blue-50 rounded-lg p-6\">\n            <h3 class=\"text-lg font-semibold text-gray-800 mb-4\">Aperçu des Zones</h3>\n            <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n              <!-- Zone Verte -->\n              <div class=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n                <div class=\"flex items-center space-x-2 mb-2\">\n                  <div class=\"w-3 h-3 bg-green-500 rounded-full\"></div>\n                  <span class=\"font-medium text-green-800\">Zone Verte</span>\n                </div>\n                <p class=\"text-sm text-green-700\">\n                  &lt; {{ exceedanceThresholds.orange }}%\n                </p>\n                <p class=\"text-xs text-green-600 mt-1\">\n                  Dans les limites\n                </p>\n              </div>\n\n              <!-- Zone Orange -->\n              <div class=\"bg-orange-50 border border-orange-200 rounded-lg p-4\">\n                <div class=\"flex items-center space-x-2 mb-2\">\n                  <div class=\"w-3 h-3 bg-orange-500 rounded-full\"></div>\n                  <span class=\"font-medium text-orange-800\">Zone Orange</span>\n                </div>\n                <p class=\"text-sm text-orange-700\">\n                  {{ exceedanceThresholds.orange }}% - {{ exceedanceThresholds.red }}%\n                </p>\n                <p class=\"text-xs text-orange-600 mt-1\">\n                  Zone d'attention\n                </p>\n              </div>\n\n              <!-- Zone Rouge -->\n              <div class=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n                <div class=\"flex items-center space-x-2 mb-2\">\n                  <div class=\"w-3 h-3 bg-red-500 rounded-full\"></div>\n                  <span class=\"font-medium text-red-800\">Zone Rouge</span>\n                </div>\n                <p class=\"text-sm text-red-700\">\n                  {{ exceedanceThresholds.red }}% - 100%\n                </p>\n                <p class=\"text-xs text-red-600 mt-1\">\n                  Zone critique\n                </p>\n              </div>\n\n              <!-- Zone Noire -->\n              <div class=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n                <div class=\"flex items-center space-x-2 mb-2\">\n                  <div class=\"w-3 h-3 bg-gray-800 rounded-full\"></div>\n                  <span class=\"font-medium text-gray-800\">Zone Noire</span>\n                </div>\n                <p class=\"text-sm text-gray-700\">\n                  &gt; 100%\n                </p>\n                <p class=\"text-xs text-gray-600 mt-1\">\n                  Dépassements\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Bouton de sauvegarde -->\n          <div class=\"flex justify-end\">\n            <button \n              type=\"submit\"\n              :disabled=\"isSaving\"\n              class=\"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50\"\n            >\n              <span v-if=\"isSaving\">Sauvegarde...</span>\n              <span v-else>Enregistrer les paramètres</span>\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, computed } from 'vue'\nimport { useToast } from '@/composables/useToast'\n\ndefinePageMeta({\n  layout: 'admin',\n  middleware: 'admin'\n})\n\nconst { showToast } = useToast()\n\n// État général\nconst loading = ref(true)\nconst isSaving = ref(false)\nconst error = ref(null)\nconst activeTab = ref('types')\n\n// Onglet Types de Contrats\nconst contractTypes = ref({\n  volunteer: {\n    active: true,\n    annual_ceiling: 3900,\n    daily_ceiling: 42.31,\n    mileage_allowance: 0.4,\n    max_annual_mileage: 2000\n  },\n  student: {\n    active: false,\n    annual_ceiling: 0,\n    daily_ceiling: 0\n  },\n  article17: {\n    active: false,\n    annual_ceiling: 0,\n    daily_ceiling: 0\n  },\n  freelance: {\n    active: false,\n    annual_ceiling: 0,\n    daily_ceiling: 0\n  },\n  salaried: {\n    active: false,\n    annual_ceiling: 0,\n    daily_ceiling: 0\n  }\n})\n\n// Onglet Enseignants & Contrats\nconst teachers = ref([])\nconst selectedYear = ref(new Date().getFullYear())\nconst availableYears = ref([])\n\n// Onglet Paiements & Heures\nconst selectedPeriod = ref('monthly')\nconst totalPayments = ref(0)\nconst totalHours = ref(0)\nconst activeTeachers = ref(0)\nconst exceededContracts = ref(0)\n\n// Filtrage par dépassements\nconst exceedanceFilter = ref('all')\nconst exceedanceThresholds = ref({\n  orange: 80,\n  red: 95\n})\nconst exceedanceStats = ref({\n  green: 0,\n  orange: 0,\n  red: 0,\n  black: 0\n})\n\n// Computed\nconst contractTypeLabels = {\n  volunteer: 'Bénévole',\n  student: 'Étudiant',\n  article17: 'Article 17',\n  freelance: 'Indépendant',\n  salaried: 'Salarié'\n}\n\n// Méthodes pour les types de contrats\nconst loadContractTypes = async () => {\n  try {\n    const config = useRuntimeConfig()\n    const tokenCookie = useCookie('auth-token')\n    const response = await $fetch(`${config.public.apiBase}/admin/settings/contracts`, {\n      headers: { 'Authorization': `Bearer ${tokenCookie.value}` }\n    })\n    if (response.success && response.data) {\n      contractTypes.value = { ...contractTypes.value, ...response.data }\n    }\n  } catch (e) {\n    console.error('Erreur lors du chargement des types de contrats:', e)\n  }\n}\n\nconst saveContractTypes = async () => {\n  isSaving.value = true\n  try {\n    const config = useRuntimeConfig()\n    const tokenCookie = useCookie('auth-token')\n    await $fetch(`${config.public.apiBase}/admin/settings/contracts`, {\n      method: 'PUT',\n      headers: { \n        'Authorization': `Bearer ${tokenCookie.value}`,\n        'Content-Type': 'application/json'\n      },\n      body: contractTypes.value\n    })\n    showToast('Types de contrats mis à jour avec succès !', 'success')\n  } catch (e) {\n    const errorMessage = e.data?.message || \"Une erreur est survenue lors de la sauvegarde.\"\n    showToast(errorMessage, 'error')\n  } finally {\n    isSaving.value = false\n  }\n}\n\n// Méthodes pour les enseignants\nconst loadTeachersData = async () => {\n  try {\n    const config = useRuntimeConfig()\n    const tokenCookie = useCookie('auth-token')\n    const response = await $fetch(`${config.public.apiBase}/admin/teachers/contracts`, {\n      headers: { 'Authorization': `Bearer ${tokenCookie.value}` },\n      params: { year: selectedYear.value }\n    })\n    if (response.success) {\n      teachers.value = response.data\n    }\n  } catch (e) {\n    console.error('Erreur lors du chargement des enseignants:', e)\n    // Données de démonstration\n    teachers.value = generateMockTeachers()\n  }\n  \n  // Calculer les statistiques après le chargement\n  calculateExceedanceStats()\n}\n\nconst loadPaymentsData = async () => {\n  try {\n    const config = useRuntimeConfig()\n    const tokenCookie = useCookie('auth-token')\n    const response = await $fetch(`${config.public.apiBase}/admin/payments/summary`, {\n      headers: { 'Authorization': `Bearer ${tokenCookie.value}` },\n      params: { \n        year: selectedYear.value,\n        period: selectedPeriod.value\n      }\n    })\n    if (response.success) {\n      totalPayments.value = response.data.total_payments\n      totalHours.value = response.data.total_hours\n      activeTeachers.value = response.data.active_teachers\n      exceededContracts.value = response.data.exceeded_contracts\n    }\n  } catch (e) {\n    console.error('Erreur lors du chargement des paiements:', e)\n    // Données de démonstration basées sur les cas de test\n    totalPayments.value = 20220  // Somme de tous les paiements des cas de test\n    totalHours.value = 520       // Somme de toutes les heures des cas de test\n    activeTeachers.value = 8     // Nombre d'enseignants dans les cas de test\n    exceededContracts.value = 4  // 4 enseignants avec dépassements (cas 4, 5, 6, 7)\n  }\n}\n\n// Méthodes utilitaires\nconst getContractTypeLabel = (type) => {\n  return contractTypeLabels[type] || type\n}\n\nconst getContractStatusClass = (contract) => {\n  if (!contract) return 'bg-gray-100 text-gray-800'\n  \n  const classes = {\n    volunteer: 'bg-green-100 text-green-800',\n    student: 'bg-blue-100 text-blue-800',\n    article17: 'bg-purple-100 text-purple-800',\n    freelance: 'bg-yellow-100 text-yellow-800',\n    salaried: 'bg-indigo-100 text-indigo-800'\n  }\n  return classes[contract.type] || 'bg-gray-100 text-gray-800'\n}\n\nconst getExceedanceIndicators = (teacher) => {\n  if (!teacher.current_contract) return []\n  \n  const indicators = []\n  const contractType = contractTypes.value[teacher.current_contract.type]\n  if (!contractType?.active) return indicators\n  \n  // Calculer les pourcentages\n  const annualPercentage = (teacher.annual_amount || 0) / contractType.annual_ceiling * 100\n  const dailyPercentage = (teacher.daily_amount || 0) / contractType.daily_ceiling * 100\n  const mileagePercentage = (teacher.annual_mileage || 0) / (contractType.max_annual_mileage || 1) * 100\n  \n  // Déterminer le statut global\n  let status = 'green'\n  let label = 'Dans les limites'\n  let tooltip = 'Dans les limites'\n  \n  if (annualPercentage >= 100 || dailyPercentage >= 100 || mileagePercentage >= 100) {\n    status = 'black'\n    label = 'Dépassé'\n    tooltip = `Dépassement: ${annualPercentage >= 100 ? 'Plafond annuel' : ''} ${dailyPercentage >= 100 ? 'Plafond journalier' : ''} ${mileagePercentage >= 100 ? 'Kilométrage' : ''}`\n  } else if (annualPercentage >= exceedanceThresholds.value.red || dailyPercentage >= exceedanceThresholds.value.red || mileagePercentage >= exceedanceThresholds.value.red) {\n    status = 'red'\n    label = 'Critique'\n    tooltip = `Critique: ${annualPercentage >= exceedanceThresholds.value.red ? 'Plafond annuel' : ''} ${dailyPercentage >= exceedanceThresholds.value.red ? 'Plafond journalier' : ''} ${mileagePercentage >= exceedanceThresholds.value.red ? 'Kilométrage' : ''}`\n  } else if (annualPercentage >= exceedanceThresholds.value.orange || dailyPercentage >= exceedanceThresholds.value.orange || mileagePercentage >= exceedanceThresholds.value.orange) {\n    status = 'orange'\n    label = 'Attention'\n    tooltip = `Attention: ${annualPercentage >= exceedanceThresholds.value.orange ? 'Plafond annuel' : ''} ${dailyPercentage >= exceedanceThresholds.value.orange ? 'Plafond journalier' : ''} ${mileagePercentage >= exceedanceThresholds.value.orange ? 'Kilométrage' : ''}`\n  }\n  \n  indicators.push({\n    type: status,\n    status: status,\n    label: label,\n    color: getStatusColor(status),\n    tooltip: tooltip\n  })\n  \n  return indicators\n}\n\nconst getStatusColor = (status) => {\n  const colors = {\n    green: 'bg-green-500',\n    orange: 'bg-orange-500',\n    red: 'bg-red-500',\n    black: 'bg-gray-800'\n  }\n  return colors[status] || 'bg-gray-500'\n}\n\nconst getIndicatorBadgeClass = (status) => {\n  const classes = {\n    green: 'bg-green-100 text-green-800 border-green-200',\n    orange: 'bg-orange-100 text-orange-800 border-orange-200',\n    red: 'bg-red-100 text-red-800 border-red-200',\n    black: 'bg-gray-100 text-gray-800 border-gray-200'\n  }\n  return classes[status] || 'bg-gray-100 text-gray-800 border-gray-200'\n}\n\nconst getPaymentStatusClass = (status) => {\n  const classes = {\n    paid: 'bg-green-100 text-green-800',\n    pending: 'bg-yellow-100 text-yellow-800',\n    overdue: 'bg-red-100 text-red-800',\n    cancelled: 'bg-gray-100 text-gray-800'\n  }\n  return classes[status] || 'bg-gray-100 text-gray-800'\n}\n\nconst formatDate = (date) => {\n  if (!date) return ''\n  return new Date(date).toLocaleDateString('fr-FR')\n}\n\n// Génération de données de démonstration\nconst generateMockTeachers = () => {\n  return [\n    // CAS 1: Enseignant dans les limites (VERT)\n    {\n      id: 1,\n      first_name: 'Marie',\n      last_name: 'Dubois',\n      email: 'marie.dubois@example.com',\n      current_contract: {\n        id: 1,\n        type: 'volunteer',\n        start_date: '2024-01-01',\n        end_date: null,\n        total_hours: 45,\n        total_amount: 1200\n      },\n      contract_history: [\n        {\n          id: 1,\n          type: 'volunteer',\n          start_date: '2024-01-01',\n          end_date: null,\n          total_hours: 45,\n          total_amount: 1200\n        }\n      ],\n      annual_amount: 1200,      // 30.8% du plafond (1200/3900) - VERT\n      daily_amount: 25,         // 59.1% du plafond (25/42.31) - VERT\n      annual_mileage: 150,      // 7.5% du plafond (150/2000) - VERT\n      period_hours: 12,\n      period_amount: 320,\n      period_mileage: 45,\n      payments: [\n        {\n          id: 1,\n          date: '2024-01-15',\n          amount: 320,\n          hours: 12,\n          mileage: 45,\n          status: 'paid'\n        }\n      ]\n    },\n\n    // CAS 2: Enseignant en zone d'attention (ORANGE) - Plafond annuel à 85%\n    {\n      id: 2,\n      first_name: 'Pierre',\n      last_name: 'Martin',\n      email: 'pierre.martin@example.com',\n      current_contract: {\n        id: 2,\n        type: 'volunteer',\n        start_date: '2024-01-01',\n        end_date: null,\n        total_hours: 120,\n        total_amount: 3315\n      },\n      contract_history: [\n        {\n          id: 2,\n          type: 'volunteer',\n          start_date: '2024-01-01',\n          end_date: null,\n          total_hours: 120,\n          total_amount: 3315\n        }\n      ],\n      annual_amount: 3315,      // 85% du plafond (3315/3900) - ORANGE\n      daily_amount: 35,         // 82.7% du plafond (35/42.31) - ORANGE\n      annual_mileage: 1200,     // 60% du plafond (1200/2000) - VERT\n      period_hours: 30,\n      period_amount: 828,\n      period_mileage: 300,\n      payments: [\n        {\n          id: 2,\n          date: '2024-01-15',\n          amount: 828,\n          hours: 30,\n          mileage: 300,\n          status: 'paid'\n        }\n      ]\n    },\n\n    // CAS 3: Enseignant en zone critique (ROUGE) - Plafond journalier à 98%\n    {\n      id: 3,\n      first_name: 'Sophie',\n      last_name: 'Leroy',\n      email: 'sophie.leroy@example.com',\n      current_contract: {\n        id: 3,\n        type: 'volunteer',\n        start_date: '2024-01-01',\n        end_date: null,\n        total_hours: 95,\n        total_amount: 2800\n      },\n      contract_history: [\n        {\n          id: 3,\n          type: 'volunteer',\n          start_date: '2024-01-01',\n          end_date: null,\n          total_hours: 95,\n          total_amount: 2800\n        }\n      ],\n      annual_amount: 2800,      // 71.8% du plafond (2800/3900) - VERT\n      daily_amount: 41.5,       // 98.1% du plafond (41.5/42.31) - ROUGE\n      annual_mileage: 1800,     // 90% du plafond (1800/2000) - ORANGE\n      period_hours: 25,\n      period_amount: 700,\n      period_mileage: 450,\n      payments: [\n        {\n          id: 3,\n          date: '2024-01-15',\n          amount: 700,\n          hours: 25,\n          mileage: 450,\n          status: 'paid'\n        }\n      ]\n    },\n\n    // CAS 4: Enseignant avec dépassement kilométrique (NOIR)\n    {\n      id: 4,\n      first_name: 'Jean',\n      last_name: 'Bernard',\n      email: 'jean.bernard@example.com',\n      current_contract: {\n        id: 4,\n        type: 'volunteer',\n        start_date: '2024-01-01',\n        end_date: null,\n        total_hours: 80,\n        total_amount: 2200\n      },\n      contract_history: [\n        {\n          id: 4,\n          type: 'volunteer',\n          start_date: '2024-01-01',\n          end_date: null,\n          total_hours: 80,\n          total_amount: 2200\n        }\n      ],\n      annual_amount: 2200,      // 56.4% du plafond (2200/3900) - VERT\n      daily_amount: 30,         // 70.9% du plafond (30/42.31) - VERT\n      annual_mileage: 2500,     // 125% du plafond (2500/2000) - NOIR DÉPASSÉ\n      period_hours: 20,\n      period_amount: 550,\n      period_mileage: 625,\n      payments: [\n        {\n          id: 4,\n          date: '2024-01-15',\n          amount: 550,\n          hours: 20,\n          mileage: 625,\n          status: 'paid'\n        }\n      ]\n    },\n\n    // CAS 5: Enseignant avec dépassement plafond annuel (NOIR)\n    {\n      id: 5,\n      first_name: 'Claire',\n      last_name: 'Moreau',\n      email: 'claire.moreau@example.com',\n      current_contract: {\n        id: 5,\n        type: 'volunteer',\n        start_date: '2024-01-01',\n        end_date: null,\n        total_hours: 150,\n        total_amount: 4200\n      },\n      contract_history: [\n        {\n          id: 5,\n          type: 'volunteer',\n          start_date: '2024-01-01',\n          end_date: null,\n          total_hours: 150,\n          total_amount: 4200\n        }\n      ],\n      annual_amount: 4200,      // 107.7% du plafond (4200/3900) - NOIR DÉPASSÉ\n      daily_amount: 38,         // 89.8% du plafond (38/42.31) - ORANGE\n      annual_mileage: 1500,     // 75% du plafond (1500/2000) - VERT\n      period_hours: 40,\n      period_amount: 1050,\n      period_mileage: 375,\n      payments: [\n        {\n          id: 5,\n          date: '2024-01-15',\n          amount: 1050,\n          hours: 40,\n          mileage: 375,\n          status: 'paid'\n        }\n      ]\n    },\n\n    // CAS 6: Enseignant avec dépassement plafond journalier (NOIR)\n    {\n      id: 6,\n      first_name: 'Antoine',\n      last_name: 'Petit',\n      email: 'antoine.petit@example.com',\n      current_contract: {\n        id: 6,\n        type: 'volunteer',\n        start_date: '2024-01-01',\n        end_date: null,\n        total_hours: 60,\n        total_amount: 1800\n      },\n      contract_history: [\n        {\n          id: 6,\n          type: 'volunteer',\n          start_date: '2024-01-01',\n          end_date: null,\n          total_hours: 60,\n          total_amount: 1800\n        }\n      ],\n      annual_amount: 1800,      // 46.2% du plafond (1800/3900) - VERT\n      daily_amount: 45,          // 106.4% du plafond (45/42.31) - NOIR DÉPASSÉ\n      annual_mileage: 800,      // 40% du plafond (800/2000) - VERT\n      period_hours: 15,\n      period_amount: 450,\n      period_mileage: 200,\n      payments: [\n        {\n          id: 6,\n          date: '2024-01-15',\n          amount: 450,\n          hours: 15,\n          mileage: 200,\n          status: 'paid'\n        }\n      ]\n    },\n\n    // CAS 7: Enseignant avec dépassements multiples (NOIR)\n    {\n      id: 7,\n      first_name: 'Isabelle',\n      last_name: 'Rousseau',\n      email: 'isabelle.rousseau@example.com',\n      current_contract: {\n        id: 7,\n        type: 'volunteer',\n        start_date: '2024-01-01',\n        end_date: null,\n        total_hours: 200,\n        total_amount: 5000\n      },\n      contract_history: [\n        {\n          id: 7,\n          type: 'volunteer',\n          start_date: '2024-01-01',\n          end_date: null,\n          total_hours: 200,\n          total_amount: 5000\n        }\n      ],\n      annual_amount: 5000,      // 128.2% du plafond (5000/3900) - NOIR DÉPASSÉ\n      daily_amount: 50,          // 118.2% du plafond (50/42.31) - NOIR DÉPASSÉ\n      annual_mileage: 3000,     // 150% du plafond (3000/2000) - NOIR DÉPASSÉ\n      period_hours: 50,\n      period_amount: 1250,\n      period_mileage: 750,\n      payments: [\n        {\n          id: 7,\n          date: '2024-01-15',\n          amount: 1250,\n          hours: 50,\n          mileage: 750,\n          status: 'paid'\n        }\n      ]\n    },\n\n    // CAS 8: Enseignant indépendant (pas de plafonds kilométriques)\n    {\n      id: 8,\n      first_name: 'Marc',\n      last_name: 'Durand',\n      email: 'marc.durand@example.com',\n      current_contract: {\n        id: 8,\n        type: 'freelance',\n        start_date: '2024-02-01',\n        end_date: null,\n        total_hours: 80,\n        total_amount: 2400\n      },\n      contract_history: [\n        {\n          id: 8,\n          type: 'freelance',\n          start_date: '2024-02-01',\n          end_date: null,\n          total_hours: 80,\n          total_amount: 2400\n        }\n      ],\n      annual_amount: 2400,      // Dépend du plafond configuré pour freelance\n      daily_amount: 0,          // Pas de plafond journalier pour freelance\n      annual_mileage: 0,        // Pas de kilométrage pour freelance\n      period_hours: 20,\n      period_amount: 600,\n      period_mileage: 0,\n      payments: [\n        {\n          id: 8,\n          date: '2024-01-15',\n          amount: 600,\n          hours: 20,\n          mileage: 0,\n          status: 'paid'\n        }\n      ]\n    }\n  ]\n}\n\n// Méthodes de filtrage et statistiques\nconst calculateExceedanceStats = () => {\n  const stats = { green: 0, orange: 0, red: 0, black: 0 }\n  \n  teachers.value.forEach(teacher => {\n    const indicators = getExceedanceIndicators(teacher)\n    if (indicators.length > 0) {\n      const status = indicators[0].status\n      stats[status]++\n    }\n  })\n  \n  exceedanceStats.value = stats\n}\n\nconst applyExceedanceFilter = () => {\n  calculateExceedanceStats()\n}\n\nconst filterByStatus = (status) => {\n  exceedanceFilter.value = status\n  calculateExceedanceStats()\n}\n\nconst filteredTeachers = computed(() => {\n  if (exceedanceFilter.value === 'all') {\n    return teachers.value\n  }\n  \n  return teachers.value.filter(teacher => {\n    const indicators = getExceedanceIndicators(teacher)\n    if (indicators.length > 0) {\n      return indicators[0].status === exceedanceFilter.value\n    }\n    return false\n  })\n})\n\n// Initialisation\nconst initializeYears = () => {\n  const currentYear = new Date().getFullYear()\n  for (let i = currentYear - 2; i <= currentYear + 1; i++) {\n    availableYears.value.push(i)\n  }\n}\n\nconst loadAllData = async () => {\n  loading.value = true\n  error.value = null\n  \n  try {\n    await Promise.all([\n      loadContractTypes(),\n      loadTeachersData(),\n      loadPaymentsData(),\n      loadExceedanceSettings()\n    ])\n  } catch (e) {\n    error.value = e.data?.message || \"Une erreur inconnue est survenue.\"\n    showToast(error.value, 'error')\n  } finally {\n    loading.value = false\n  }\n}\n\n// Méthodes pour les paramètres de dépassement\nconst loadExceedanceSettings = async () => {\n  try {\n    const config = useRuntimeConfig()\n    const tokenCookie = useCookie('auth-token')\n    const response = await $fetch(`${config.public.apiBase}/admin/settings/exceedance-thresholds`, {\n      headers: { 'Authorization': `Bearer ${tokenCookie.value}` }\n    })\n    if (response.success && response.data) {\n      exceedanceThresholds.value = { ...exceedanceThresholds.value, ...response.data }\n    }\n  } catch (e) {\n    console.error('Erreur lors du chargement des paramètres de dépassement:', e)\n    // Utiliser les valeurs par défaut\n  }\n}\n\nconst saveExceedanceSettings = async () => {\n  isSaving.value = true\n  try {\n    const config = useRuntimeConfig()\n    const tokenCookie = useCookie('auth-token')\n    await $fetch(`${config.public.apiBase}/admin/settings/exceedance-thresholds`, {\n      method: 'PUT',\n      headers: { \n        'Authorization': `Bearer ${tokenCookie.value}`,\n        'Content-Type': 'application/json'\n      },\n      body: exceedanceThresholds.value\n    })\n    showToast('Paramètres de dépassement mis à jour avec succès !', 'success')\n    \n    // Recalculer les statistiques avec les nouveaux seuils\n    calculateExceedanceStats()\n  } catch (e) {\n    const errorMessage = e.data?.message || \"Une erreur est survenue lors de la sauvegarde.\"\n    showToast(errorMessage, 'error')\n  } finally {\n    isSaving.value = false\n  }\n}\n\nonMounted(() => {\n  initializeYears()\n  loadAllData()\n})\n</script>\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderList","_ssrRenderAttr","_ssrLooseContain","_ssrLooseEqual","_ssrInterpolate","_ssrRenderClass"],"mappings":"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"}