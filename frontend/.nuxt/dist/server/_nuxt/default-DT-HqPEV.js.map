{"version":3,"file":"default-DT-HqPEV.js","sources":["../../../../components/LanguageSelector.vue","../../../../layouts/default.vue"],"sourcesContent":["<template>\n  <div class=\"relative\">\n    <button @click=\"toggleDropdown\" \n            class=\"flex items-center space-x-2 px-3 py-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors text-equestrian-cream\">\n      <span class=\"text-sm font-medium\">{{ currentLocale.name }}</span>\n      <ChevronDownIcon class=\"w-4 h-4\" :class=\"{ 'rotate-180': isOpen }\" />\n    </button>\n    \n    <div v-if=\"isOpen\" \n         class=\"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-xl py-2 z-50 border border-equestrian-gold/20\">\n      <button v-for=\"locale in availableLocales\" \n              :key=\"locale.code\"\n              @click=\"switchLanguage(locale.code)\"\n              class=\"flex items-center w-full px-4 py-2 text-sm text-equestrian-darkBrown hover:bg-equestrian-cream transition-colors\"\n              :class=\"{ 'bg-equestrian-cream font-medium': $i18n.locale === locale.code }\">\n        <span class=\"mr-3\">{{ getFlagEmoji(locale.code) }}</span>\n        <span>{{ locale.name }}</span>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ChevronDownIcon } from '@heroicons/vue/24/outline'\n\nconst { $i18n } = useNuxtApp()\nconst isOpen = ref(false)\n\nconst availableLocales = computed(() => $i18n.locales)\nconst currentLocale = computed(() => \n  availableLocales.value.find(locale => locale.code === $i18n.locale) || availableLocales.value[0]\n)\n\nconst toggleDropdown = () => {\n  isOpen.value = !isOpen.value\n}\n\nconst switchLanguage = (code) => {\n  $i18n.setLocale(code)\n  isOpen.value = false\n}\n\nconst getFlagEmoji = (code) => {\n  const flags = {\n    fr: 'üá´üá∑',\n    en: 'üá∫üá∏',\n    nl: 'üá≥üá±',\n    de: 'üá©üá™',\n    it: 'üáÆüáπ',\n    es: 'üá™üá∏',\n    pt: 'üáµüáπ',\n    hu: 'üá≠üá∫',\n    pl: 'üáµüá±',\n    zh: 'üá®üá≥',\n    ja: 'üáØüáµ',\n    sv: 'üá∏üá™',\n    no: 'üá≥üá¥',\n    fi: 'üá´üáÆ',\n    da: 'üá©üá∞'\n  }\n  return flags[code] || 'üåê'\n}\n\n// Fermer le dropdown quand on clique ailleurs\nonMounted(() => {\n  document.addEventListener('click', (e) => {\n    if (!e.target.closest('.relative')) {\n      isOpen.value = false\n    }\n  })\n})\n</script>\n","<template>\n  <div class=\"min-h-screen bg-equestrian-cream\">\n    <!-- Navigation -->\n    <nav class=\"bg-white shadow-lg border-b-4 border-equestrian-gold\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"flex justify-between h-20\">\n          <div class=\"flex items-center\">\n            <NuxtLink to=\"/\"\n              class=\"flex items-center space-x-3 text-xl font-bold text-equestrian-darkBrown hover:text-equestrian-brown transition-colors\">\n              <Logo size=\"md\" />\n            </NuxtLink>\n          </div>\n\n          <div class=\"flex items-center space-x-6\">\n            <!-- S√©lecteur de langue -->\n            <LanguageSelector />\n            \n            <template v-if=\"authStore.isAuthenticated\">\n              <!-- Menu utilisateur authentifi√© -->\n              <div class=\"relative\" v-if=\"showUserMenu\">\n                <button @click=\"toggleUserMenu\"\n                  class=\"flex items-center space-x-2 text-equestrian-darkBrown hover:text-equestrian-brown bg-equestrian-cream px-4 py-2 rounded-lg transition-colors\">\n                  <EquestrianIcon name=\"helmet\" :size=\"20\" />\n                  <span class=\"font-medium\">{{ authStore.userName }}</span>\n                  <ChevronDownIcon class=\"w-4 h-4\" />\n                </button>\n\n                <div v-if=\"userMenuOpen\"\n                  class=\"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-xl py-2 z-50 border border-equestrian-gold/20\">\n                  <NuxtLink to=\"/dashboard\"\n                    class=\"flex items-center space-x-2 px-4 py-3 text-equestrian-darkBrown hover:bg-equestrian-cream transition-colors\">\n                    <EquestrianIcon name=\"dashboard\" :size=\"16\" />\n                    <span>{{ $t('nav.dashboard') }}</span>\n                  </NuxtLink>\n\n                  <NuxtLink v-if=\"authStore.canActAsTeacher\" to=\"/teacher/dashboard\"\n                    class=\"flex items-center space-x-2 px-4 py-3 text-equestrian-darkBrown hover:bg-equestrian-cream transition-colors\">\n                    <EquestrianIcon name=\"saddle\" :size=\"16\" />\n                    <span>{{ $t('nav.teacherSpace') }}</span>\n                  </NuxtLink>\n\n                  <NuxtLink to=\"/profile\"\n                    class=\"flex items-center space-x-2 px-4 py-3 text-equestrian-darkBrown hover:bg-equestrian-cream transition-colors\">\n                    <EquestrianIcon name=\"helmet\" :size=\"16\" />\n                    <span>{{ $t('nav.profile') }}</span>\n                  </NuxtLink>\n\n                  <NuxtLink v-if=\"authStore.isAdmin\" to=\"/admin\"\n                    class=\"flex items-center space-x-2 px-4 py-3 text-equestrian-darkBrown hover:bg-equestrian-cream transition-colors\">\n                    <EquestrianIcon name=\"trophy\" :size=\"16\" />\n                    <span>{{ $t('nav.admin') }}</span>\n                  </NuxtLink>\n\n                  <hr class=\"my-2 border-equestrian-gold/20\">\n\n                  <button @click=\"handleLogout\"\n                    class=\"flex items-center space-x-2 w-full text-left px-4 py-3 text-red-600 hover:bg-red-50 transition-colors\">\n                    <span>üö™ {{ $t('nav.logout') }}</span>\n                  </button>\n                </div>\n              </div>\n            </template>\n\n            <template v-else>\n              <!-- Menu utilisateur non authentifi√© -->\n              <NuxtLink to=\"/login\"\n                class=\"text-equestrian-darkBrown hover:text-equestrian-brown font-medium px-4 py-2 rounded-lg hover:bg-equestrian-cream transition-colors\">\n                {{ $t('nav.login') }}\n              </NuxtLink>\n              <NuxtLink to=\"/register\"\n                class=\"btn-primary bg-equestrian-leather hover:bg-equestrian-brown text-white font-semibold px-6 py-2 rounded-lg transition-colors\">\n                üèá {{ $t('nav.register') }}\n              </NuxtLink>\n            </template>\n          </div>\n        </div>\n      </div>\n    </nav>\n\n    <!-- Contenu principal -->\n    <main>\n      <slot />\n    </main>\n\n    <!-- Footer -->\n    <footer class=\"bg-equestrian-darkBrown text-equestrian-cream border-t-4 border-equestrian-gold mt-auto\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\n          <!-- Logo et description -->\n          <div class=\"md:col-span-2\">\n            <div class=\"flex items-center space-x-3 mb-4\">\n              <Logo size=\"sm\" />\n            </div>\n            <p class=\"text-equestrian-cream/80 mb-4\">\n              {{ $t('footer.description') }}\n            </p>\n            <div class=\"flex space-x-4\">\n              <EquestrianIcon name=\"trophy\" :size=\"24\" class=\"text-equestrian-gold\" />\n              <EquestrianIcon name=\"saddle\" :size=\"24\" class=\"text-equestrian-gold\" />\n              <EquestrianIcon name=\"helmet\" :size=\"24\" class=\"text-equestrian-gold\" />\n            </div>\n          </div>\n\n          <!-- Liens rapides -->\n          <div>\n            <h4 class=\"font-semibold text-equestrian-gold mb-4\">Liens Rapides</h4>\n            <ul class=\"space-y-2\">\n              <li>\n                <NuxtLink to=\"/coaches\" class=\"text-equestrian-cream/80 hover:text-equestrian-gold transition-colors\">\n                  Nos\n                  Instructeurs</NuxtLink>\n              </li>\n              <li>\n                <NuxtLink to=\"/centers\" class=\"text-equestrian-cream/80 hover:text-equestrian-gold transition-colors\">\n                  Centres √âquestres</NuxtLink>\n              </li>\n              <li>\n                <NuxtLink to=\"/disciplines\"\n                  class=\"text-equestrian-cream/80 hover:text-equestrian-gold transition-colors\">\n                  Disciplines</NuxtLink>\n              </li>\n            </ul>\n          </div>\n\n          <!-- Contact -->\n          <div>\n            <h4 class=\"font-semibold text-equestrian-gold mb-4\">Contact</h4>\n            <ul class=\"space-y-2 text-equestrian-cream/80\">\n              <li>üìß {{ settings.settings.contact_email }}</li>\n              <li>üìû {{ settings.settings.contact_phone }}</li>\n              <li v-if=\"settings.settings.company_address\">üè† {{ settings.settings.company_address.split('\\n')[0] }}\n              </li>\n            </ul>\n          </div>\n        </div>\n\n        <hr class=\"border-equestrian-gold/30 my-8\">\n\n        <div class=\"text-center text-equestrian-cream/60\">\n          <p>&copy; 2025 {{ settings.settings.platform_name }}. Tous droits r√©serv√©s. üêé</p>\n        </div>\n      </div>\n    </footer>\n  </div>\n</template>\n\n<script setup>\nimport { ChevronDownIcon } from '@heroicons/vue/24/outline'\n\nconst authStore = useAuthStore()\nconst toast = useToast()\nconst settings = useSettings()\n\nconst userMenuOpen = ref(false)\nconst showUserMenu = computed(() => authStore.isAuthenticated)\n\nconst toggleUserMenu = () => {\n  userMenuOpen.value = !userMenuOpen.value\n}\n\nconst handleLogout = async () => {\n  try {\n    await authStore.logout()\n    toast.success('D√©connexion r√©ussie')\n  } catch (error) {\n    toast.error('Erreur lors de la d√©connexion')\n  }\n}\n\n// Fermer le menu utilisateur lors du clic √† l'ext√©rieur\nonMounted(() => {\n  document.addEventListener('click', (e) => {\n    if (!e.target.closest('.relative')) {\n      userMenuOpen.value = false\n    }\n  })\n})\n\n// Initialiser l'authentification et les param√®tres\nonMounted(async () => {\n  await authStore.initializeAuth()\n  settings.loadSettings()\n})\n</script>\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrInterpolate","_unref","_ssrRenderList","_ssrRenderClass","_push","_parent","_ssrRenderComponent","_createVNode","$t","_createTextVNode"],"mappings":"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"}