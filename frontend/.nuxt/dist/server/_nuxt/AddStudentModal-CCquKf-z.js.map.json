{"file":"AddStudentModal-CCquKf-z.js","mappings":"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","names":["_ssrRenderAttrs","_mergeProps","_ssrRenderAttr","_ssrIncludeBooleanAttr","_ssrLooseContain","_ssrLooseEqual","_ssrRenderList","_ssrRenderClass","_ssrInterpolate"],"sources":["../../../../components/AddStudentModal.vue"],"sourcesContent":["<template>\n  <!-- Modal avec design moderne et responsive -->\n  <div class=\"fixed inset-0 bg-black bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4\">\n    <div class=\"relative bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden\">\n      <!-- Header avec gradient et ic√¥ne -->\n      <div class=\"bg-gradient-to-r from-emerald-500 to-teal-600 px-6 py-4\">\n        <div class=\"flex items-center justify-between\">\n          <div class=\"flex items-center space-x-3\">\n            <div class=\"bg-white bg-opacity-20 p-2 rounded-lg\">\n              <svg class=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z\"></path>\n              </svg>\n            </div>\n            <div>\n              <h3 class=\"text-xl font-bold text-white\">Ajouter un nouvel √©l√®ve</h3>\n              <p class=\"text-emerald-100 text-sm\">Remplissez les informations ci-dessous</p>\n            </div>\n          </div>\n          <button @click=\"$emit('close')\" class=\"text-white hover:text-emerald-200 transition-colors p-2 hover:bg-white hover:bg-opacity-20 rounded-lg\">\n            <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\n            </svg>\n          </button>\n        </div>\n      </div>\n\n      <!-- Contenu avec scroll -->\n      <div class=\"overflow-y-auto max-h-[calc(90vh-120px)]\">\n        <form @submit.prevent=\"addStudent\" class=\"p-6 space-y-8\">\n          \n          <!-- Section Informations personnelles -->\n          <div class=\"bg-gray-50 rounded-xl p-6\">\n            <div class=\"flex items-center mb-4\">\n              <div class=\"bg-emerald-100 p-2 rounded-lg mr-3\">\n                <svg class=\"w-5 h-5 text-emerald-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"></path>\n                </svg>\n              </div>\n              <h4 class=\"text-lg font-semibold text-gray-900\">Informations personnelles</h4>\n            </div>\n            \n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div class=\"space-y-2\">\n                <label class=\"block text-sm font-medium text-gray-700\">\n                  Nom complet <span class=\"text-red-500\">*</span>\n                </label>\n                <input \n                  v-model=\"form.name\" \n                  type=\"text\" \n                  required \n                  placeholder=\"Ex: Jean Dupont\"\n                  class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors\"\n                >\n              </div>\n              \n              <div class=\"space-y-2\">\n                <label class=\"block text-sm font-medium text-gray-700\">\n                  Email <span class=\"text-red-500\">*</span>\n                </label>\n                <input \n                  v-model=\"form.email\" \n                  type=\"email\" \n                  required \n                  placeholder=\"Ex: jean.dupont@email.com\"\n                  class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors\"\n                >\n              </div>\n              \n              <div class=\"space-y-2\">\n                <label class=\"block text-sm font-medium text-gray-700\">T√©l√©phone</label>\n                <input \n                  v-model=\"form.phone\" \n                  type=\"tel\" \n                  placeholder=\"Ex: 06 12 34 56 78\"\n                  class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors\"\n                >\n              </div>\n              \n              <div class=\"space-y-2\">\n                <label class=\"block text-sm font-medium text-gray-700\">\n                  Niveau <span class=\"text-gray-500 text-xs\">(facultatif)</span>\n                </label>\n                <select \n                  v-model=\"form.level\" \n                  class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors\"\n                >\n                  <option value=\"\">S√©lectionner un niveau</option>\n                  <option value=\"debutant\">üå± D√©butant</option>\n                  <option value=\"intermediaire\">üìà Interm√©diaire</option>\n                  <option value=\"avance\">‚≠ê Avanc√©</option>\n                  <option value=\"expert\">üèÜ Expert</option>\n                </select>\n              </div>\n            </div>\n          </div>\n\n          <!-- Section Sp√©cialit√©s -->\n          <div v-if=\"availableDisciplines.length > 0\" class=\"bg-blue-50 rounded-xl p-6\">\n            <div class=\"flex items-center mb-4\">\n              <div class=\"bg-blue-100 p-2 rounded-lg mr-3\">\n                <svg class=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z\"></path>\n                </svg>\n              </div>\n              <h4 class=\"text-lg font-semibold text-gray-900\">Sp√©cialit√©s d'int√©r√™t</h4>\n            </div>\n            \n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div \n                v-for=\"discipline in availableDisciplines\" \n                :key=\"discipline.id\" \n                class=\"flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all duration-200 hover:shadow-md\"\n                :class=\"selectedDisciplines.includes(discipline.id) \n                  ? 'border-emerald-500 bg-emerald-50 shadow-md' \n                  : 'border-gray-200 bg-white hover:border-gray-300'\"\n                @click=\"toggleDiscipline(discipline.id)\"\n              >\n                <input \n                  :id=\"'discipline-' + discipline.id\" \n                  v-model=\"selectedDisciplines\" \n                  :value=\"discipline.id\" \n                  type=\"checkbox\" \n                  class=\"h-5 w-5 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded\"\n                >\n                <label :for=\"'discipline-' + discipline.id\" class=\"ml-4 flex items-center cursor-pointer flex-1\">\n                  <span class=\"text-2xl mr-3\">{{ getActivityIcon(discipline.activity_type_id) }}</span>\n                  <div>\n                    <div class=\"font-medium text-gray-900\">{{ discipline.name }}</div>\n                    <div class=\"text-sm text-gray-500\">{{ discipline.description }}</div>\n                  </div>\n                </label>\n              </div>\n            </div>\n          </div>\n\n          <!-- Section Objectifs et Infos m√©dicales -->\n          <div class=\"bg-purple-50 rounded-xl p-6\">\n            <div class=\"flex items-center mb-4\">\n              <div class=\"bg-purple-100 p-2 rounded-lg mr-3\">\n                <svg class=\"w-5 h-5 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"></path>\n                </svg>\n              </div>\n              <h4 class=\"text-lg font-semibold text-gray-900\">Objectifs et informations m√©dicales</h4>\n            </div>\n            \n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div class=\"space-y-2\">\n                <label class=\"block text-sm font-medium text-gray-700\">\n                  Objectifs <span class=\"text-gray-500 text-xs\">(facultatif)</span>\n                </label>\n                <textarea \n                  v-model=\"form.goals\" \n                  rows=\"4\" \n                  placeholder=\"D√©crivez les objectifs de l'√©l√®ve...\"\n                  class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors resize-none\"\n                ></textarea>\n              </div>\n              \n              <div class=\"space-y-2\">\n                <label class=\"block text-sm font-medium text-gray-700\">\n                  Informations m√©dicales <span class=\"text-gray-500 text-xs\">(facultatif)</span>\n                </label>\n                <textarea \n                  v-model=\"form.medical_info\" \n                  rows=\"4\" \n                  placeholder=\"Allergies, limitations, informations importantes...\"\n                  class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors resize-none\"\n                ></textarea>\n              </div>\n            </div>\n          </div>\n\n          <!-- Section Documents m√©dicaux am√©lior√©e -->\n          <div class=\"bg-amber-50 rounded-xl p-6\">\n            <div class=\"flex items-center justify-between mb-4\">\n              <div class=\"flex items-center\">\n                <div class=\"bg-amber-100 p-2 rounded-lg mr-3\">\n                  <svg class=\"w-5 h-5 text-amber-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"></path>\n                  </svg>\n                </div>\n                <div>\n                  <h4 class=\"text-lg font-semibold text-gray-900\">Documents m√©dicaux</h4>\n                  <p class=\"text-sm text-gray-600\">Ajoutez les documents n√©cessaires (certificats, assurances...)</p>\n                </div>\n              </div>\n              <button \n                type=\"button\" \n                @click=\"addDocument\" \n                class=\"bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors\"\n              >\n                <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"></path>\n                </svg>\n                <span>Ajouter</span>\n              </button>\n            </div>\n            \n            <!-- Liste des documents avec design am√©lior√© -->\n            <div v-if=\"medicalDocuments.length > 0\" class=\"space-y-4\">\n              <div \n                v-for=\"(doc, index) in medicalDocuments\" \n                :key=\"index\" \n                class=\"bg-white border border-gray-200 rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow\"\n              >\n                <div class=\"flex items-center justify-between mb-4\">\n                  <div class=\"flex items-center space-x-3\">\n                    <div class=\"bg-blue-100 p-2 rounded-lg\">\n                      <svg class=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"></path>\n                      </svg>\n                    </div>\n                    <h5 class=\"font-medium text-gray-900\">Document {{ index + 1 }}</h5>\n                  </div>\n                  <button \n                    type=\"button\" \n                    @click=\"removeDocument(index)\" \n                    class=\"text-red-500 hover:text-red-700 p-1 hover:bg-red-50 rounded-lg transition-colors\"\n                  >\n                    <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"></path>\n                    </svg>\n                  </button>\n                </div>\n                \n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div class=\"space-y-2\">\n                    <label class=\"block text-sm font-medium text-gray-700\">Type de document</label>\n                    <select \n                      v-model=\"doc.document_type\" \n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n                    >\n                      <option value=\"\">S√©lectionner un type</option>\n                      <option value=\"certificat_medical\">üè• Certificat m√©dical</option>\n                      <option value=\"assurance\">üõ°Ô∏è Assurance</option>\n                      <option value=\"autorisation_parentale\">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Autorisation parentale</option>\n                      <option value=\"autre\">üìÑ Autre</option>\n                    </select>\n                  </div>\n                  \n                  <div class=\"space-y-2\">\n                    <label class=\"block text-sm font-medium text-gray-700\">Fr√©quence de renouvellement</label>\n                    <select \n                      v-model=\"doc.renewal_frequency\" \n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n                    >\n                      <option value=\"\">Aucune</option>\n                      <option value=\"yearly\">üìÖ Annuel</option>\n                      <option value=\"monthly\">üìÜ Mensuel</option>\n                      <option value=\"quarterly\">üìä Trimestriel</option>\n                    </select>\n                  </div>\n                  \n                  <div class=\"space-y-2\">\n                    <label class=\"block text-sm font-medium text-gray-700\">Date d'expiration</label>\n                    <input \n                      v-model=\"doc.expiry_date\" \n                      type=\"date\" \n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n                    >\n                  </div>\n                  \n                  <div class=\"space-y-2\">\n                    <label class=\"block text-sm font-medium text-gray-700\">Fichier</label>\n                    <div class=\"relative\">\n                      <input \n                        @change=\"handleFileUpload($event, index)\" \n                        type=\"file\" \n                        accept=\".pdf,.jpg,.jpeg,.png\" \n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n                      >\n                      <div v-if=\"doc.file_name\" class=\"mt-2 text-sm text-emerald-600 flex items-center\">\n                        <svg class=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\n                        </svg>\n                        {{ doc.file_name }}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                \n                <div class=\"mt-4 space-y-2\">\n                  <label class=\"block text-sm font-medium text-gray-700\">Notes</label>\n                  <textarea \n                    v-model=\"doc.notes\" \n                    rows=\"2\" \n                    placeholder=\"Informations suppl√©mentaires...\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 resize-none\"\n                  ></textarea>\n                </div>\n              </div>\n            </div>\n            \n            <!-- Message quand aucun document -->\n            <div v-else class=\"text-center py-8 text-gray-500\">\n              <svg class=\"mx-auto h-12 w-12 text-gray-400 mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"></path>\n              </svg>\n              <p>Aucun document m√©dical ajout√©</p>\n              <p class=\"text-sm\">Cliquez sur \"Ajouter\" pour commencer</p>\n            </div>\n          </div>\n          \n          <!-- Boutons d'action -->\n          <div class=\"flex justify-end space-x-4 pt-6 border-t border-gray-200\">\n            <button \n              type=\"button\" \n              @click=\"$emit('close')\" \n              class=\"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition-colors font-medium\"\n            >\n              Annuler\n            </button>\n            <button \n              type=\"submit\" \n              :disabled=\"loading\" \n              class=\"px-6 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-lg hover:from-emerald-600 hover:to-teal-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-medium flex items-center space-x-2\"\n            >\n              <svg v-if=\"loading\" class=\"animate-spin w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n              <span>{{ loading ? 'Ajout en cours...' : 'Ajouter l\\'√©l√®ve' }}</span>\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\n\nconst emit = defineEmits(['close', 'success'])\n\nconst loading = ref(false)\nconst availableDisciplines = ref([])\nconst selectedDisciplines = ref([])\nconst medicalDocuments = ref([])\n\nconst form = ref({\n  name: '',\n  email: '',\n  phone: '',\n  level: '',\n  goals: '',\n  medical_info: ''\n})\n\n// Charger les sp√©cialit√©s du club\nconst loadClubDisciplines = async () => {\n  try {\n    const config = useRuntimeConfig()\n    const tokenCookie = useCookie('auth-token')\n    \n    const response = await $fetch(`${config.public.apiBase}/club/profile-test`)\n    if (response.club && response.club.disciplines) {\n      availableDisciplines.value = response.club.disciplines\n    }\n  } catch (error) {\n    console.error('Erreur lors du chargement des sp√©cialit√©s:', error)\n  }\n}\n\n// Obtenir l'ic√¥ne de l'activit√©\nconst getActivityIcon = (activityTypeId) => {\n  const icons = {\n    1: 'üèá', // √âquitation\n    2: 'üèä‚Äç‚ôÄÔ∏è', // Natation\n    3: 'üí™', // Salle de sport\n    4: 'üèÉ‚Äç‚ôÇÔ∏è' // Coaching sportif\n  }\n  return icons[activityTypeId] || 'üéØ'\n}\n\n// Toggle discipline selection\nconst toggleDiscipline = (disciplineId) => {\n  const index = selectedDisciplines.value.indexOf(disciplineId)\n  if (index > -1) {\n    selectedDisciplines.value.splice(index, 1)\n  } else {\n    selectedDisciplines.value.push(disciplineId)\n  }\n}\n\n// Gestion des documents m√©dicaux am√©lior√©e\nconst addDocument = () => {\n  medicalDocuments.value.push({\n    document_type: '',\n    file_path: '',\n    file_name: '',\n    expiry_date: '',\n    renewal_frequency: '',\n    notes: '',\n    file: null\n  })\n}\n\nconst removeDocument = (index) => {\n  medicalDocuments.value.splice(index, 1)\n}\n\nconst handleFileUpload = (event, index) => {\n  const file = event.target.files[0]\n  if (file) {\n    medicalDocuments.value[index].file = file\n    medicalDocuments.value[index].file_name = file.name\n  }\n}\n\nconst addStudent = async () => {\n  loading.value = true\n  try {\n    const config = useRuntimeConfig()\n    const tokenCookie = useCookie('auth-token')\n    \n    // Pr√©parer les donn√©es de l'√©tudiant\n    const studentData = {\n      ...form.value,\n      disciplines: selectedDisciplines.value,\n      medical_documents: medicalDocuments.value.filter(doc => doc.document_type && doc.file)\n    }\n    \n    // Cr√©er l'√©tudiant d'abord\n    const response = await $fetch(`${config.public.apiBase}/club/students-test`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${tokenCookie.value}`,\n        'Content-Type': 'application/json'\n      },\n      body: studentData\n    })\n    \n    console.log('‚úÖ √âtudiant cr√©√© avec succ√®s:', response)\n    \n    // Upload des documents m√©dicaux si il y en a\n    if (medicalDocuments.value.some(doc => doc.file)) {\n      const formData = new FormData()\n      medicalDocuments.value.forEach((doc, index) => {\n        if (doc.file) {\n          formData.append(`documents[${index}][file]`, doc.file)\n          formData.append(`documents[${index}][document_type]`, doc.document_type)\n          formData.append(`documents[${index}][expiry_date]`, doc.expiry_date || '')\n          formData.append(`documents[${index}][renewal_frequency]`, doc.renewal_frequency || '')\n          formData.append(`documents[${index}][notes]`, doc.notes || '')\n        }\n      })\n      \n      await $fetch(`${config.public.apiBase}/club/students/${response.student.id}/medical-documents`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${tokenCookie.value}`\n        },\n        body: formData\n      })\n    }\n    \n    // Afficher le toast de succ√®s\n    const { showToast } = useToast()\n    showToast('√âtudiant cr√©√© avec succ√®s !', 'success')\n    \n    // √âmettre les √©v√©nements\n    emit('success')\n    emit('close')\n    \n  } catch (error) {\n    console.error('‚ùå Erreur lors de l\\'ajout de l\\'√©l√®ve:', error)\n    \n    // Afficher le toast d'erreur\n    const { showToast } = useToast()\n    showToast('Erreur lors de la cr√©ation de l\\'√©tudiant', 'error')\n    \n  } finally {\n    loading.value = false\n  }\n}\n\n// Charger les donn√©es au montage du composant\nonMounted(() => {\n  loadClubDisciplines()\n})\n</script>"],"version":3}