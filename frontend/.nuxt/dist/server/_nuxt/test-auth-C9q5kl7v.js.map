{"version":3,"file":"test-auth-C9q5kl7v.js","sources":["../../../../pages/test-auth.vue"],"sourcesContent":["<template>\n  <div class=\"p-8\">\n    <h1 class=\"text-2xl font-bold mb-4\">Test d'authentification</h1>\n    \n    <div class=\"space-y-4\">\n      <div class=\"p-4 border rounded\">\n        <h3 class=\"font-semibold\">État du store d'authentification :</h3>\n        <p><strong>isAuthenticated:</strong> {{ authStore.isAuthenticated }}</p>\n        <p><strong>Token présent:</strong> {{ !!authStore.token }}</p>\n        <p><strong>User:</strong> {{ authStore.user ? authStore.user.email : 'Aucun' }}</p>\n        <p><strong>canActAsTeacher:</strong> {{ authStore.canActAsTeacher }}</p>\n      </div>\n      \n      <div class=\"p-4 border rounded\">\n        <h3 class=\"font-semibold\">Cookies :</h3>\n        <p><strong>auth-token:</strong> {{ authToken ? 'Présent' : 'Absent' }}</p>\n        <p><strong>Valeur:</strong> {{ authToken ? authToken.substring(0, 20) + '...' : 'N/A' }}</p>\n      </div>\n      \n      <div class=\"p-4 border rounded\">\n        <h3 class=\"font-semibold\">Test API :</h3>\n        <button @click=\"testAPI\" class=\"px-4 py-2 bg-blue-500 text-white rounded\">\n          Tester l'API\n        </button>\n        <div v-if=\"apiResult\" class=\"mt-2 p-2 bg-gray-100 rounded\">\n          <pre>{{ JSON.stringify(apiResult, null, 2) }}</pre>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nconst authStore = useAuthStore()\nconst authToken = useCookie('auth-token')\nconst apiResult = ref(null)\n\nconst testAPI = async () => {\n  try {\n    const { $api } = useNuxtApp()\n    const response = await $api.get('/auth/user')\n    apiResult.value = response.data\n  } catch (error) {\n    apiResult.value = { error: error.message }\n  }\n}\n</script>"],"names":["_ssrRenderAttrs","_mergeProps","_ssrInterpolate","_unref"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAiCA,UAAM,YAAY,aAAY;AAC9B,UAAM,YAAY,UAAU,YAAY;AACxC,UAAM,YAAY,IAAI,IAAI;;mBAlCnBA,eAAAC,WAAA,EAAA,OAAM,MAAK,GAAA,MAAA,CAAA,0OAM8BC,eAAAC,MAAA,SAAA,EAAU,eAAe,2CACzBD,eAAA,CAAA,CAAAC,MAAA,SAAA,EAAU,KAAK,kCAC1BD,eAAAC,MAAA,SAAA,EAAU,OAAOA,iBAAU,KAAK,QAAK,OAAA,6CAC1BD,eAAAC,MAAA,SAAA,EAAU,eAAe,qIAK9BA,MAAA,SAAA,IAAS,YAAA,QAAA,mDACbA,MAAA,SAAA,IAAYA,MAAA,SAAA,EAAU,UAAS,GAAA,EAAA,IAAA,QAAA,KAAA;UAQnDA,MAAA,SAAA,GAAS;+EACV,KAAK,UAAUA,MAAA,SAAA,GAAS,MAAA,CAAA,CAAA,CAAA,cAAA;AAAA;;;;;;;;;;;;;"}