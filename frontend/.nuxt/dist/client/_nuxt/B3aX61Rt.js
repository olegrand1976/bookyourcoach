import{_ as w}from"./Bm8-yRUG.js";import{c as a,o as l,a as t,e as k,C as B,r as p,g as C,t as n,i as e,b as o,w as d,F as D,s as N,d as c}from"./B2BDWZP7.js";import{r as f}from"./DdTLDG5C.js";function M(g,x){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function V(g,x){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}const j={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},A={class:"mb-8"},L={class:"text-3xl font-bold text-gray-900"},R={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},S={class:"card"},E={class:"flex items-center"},F={class:"p-2 bg-primary-100 rounded-lg"},P={class:"ml-4"},$={class:"text-2xl font-bold text-gray-900"},H={class:"card"},Z={class:"flex items-center"},q={class:"p-2 bg-green-100 rounded-lg"},T={class:"ml-4"},z={class:"text-2xl font-bold text-gray-900"},G={class:"card"},I={class:"flex items-center"},J={class:"p-2 bg-orange-100 rounded-lg"},K={class:"ml-4"},O={class:"text-2xl font-bold text-gray-900"},Q={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},U={class:"card"},W={class:"flex items-center justify-between mb-4"},X={key:0,class:"text-center py-8"},Y={key:1,class:"space-y-4"},tt={class:"font-medium text-gray-900"},st={class:"text-sm text-gray-600"},et={class:"text-sm text-gray-600"},ot={class:"text-right"},nt={class:"font-medium text-gray-900"},rt={class:"card"},at={class:"space-y-3"},ct={__name:"dashboard",setup(g){const x=k(),{$api:h}=B(),u=p({upcoming_lessons:0,completed_lessons:0,total_hours:0}),_=p([]),v=p(!0),y=async()=>{try{u.value={upcoming_lessons:0,completed_lessons:0,total_hours:0};try{const r=await h.get("/lessons?status=confirmed&limit=5");_.value=r.data.data}catch{_.value=[]}}catch(r){console.error("Erreur lors du chargement des données:",r),u.value={upcoming_lessons:0,completed_lessons:0,total_hours:0},_.value=[]}finally{v.value=!1}},b=r=>new Date(r).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return C(()=>{y()}),(r,s)=>{const i=w;return l(),a("div",j,[t("div",A,[t("h1",L," Bienvenue, "+n(e(x).userName),1),s[0]||(s[0]=t("p",{class:"mt-2 text-gray-600"}," Voici votre tableau de bord personnel ",-1))]),t("div",R,[t("div",S,[t("div",E,[t("div",F,[o(e(f),{class:"w-6 h-6 text-primary-600"})]),t("div",P,[s[1]||(s[1]=t("p",{class:"text-sm font-medium text-gray-600"},"Prochains cours",-1)),t("p",$,n(e(u).upcoming_lessons),1)])])]),t("div",H,[t("div",Z,[t("div",q,[o(e(M),{class:"w-6 h-6 text-green-600"})]),t("div",T,[s[2]||(s[2]=t("p",{class:"text-sm font-medium text-gray-600"},"Cours terminés",-1)),t("p",z,n(e(u).completed_lessons),1)])])]),t("div",G,[t("div",I,[t("div",J,[o(e(V),{class:"w-6 h-6 text-orange-600"})]),t("div",K,[s[3]||(s[3]=t("p",{class:"text-sm font-medium text-gray-600"},"Heures totales",-1)),t("p",O,n(e(u).total_hours)+"h",1)])])])]),t("div",Q,[t("div",U,[t("div",W,[s[5]||(s[5]=t("h2",{class:"text-lg font-semibold text-gray-900"},"Prochains cours",-1)),o(i,{to:"/lessons",class:"text-primary-600 hover:text-primary-700 text-sm font-medium"},{default:d(()=>s[4]||(s[4]=[c(" Voir tous ",-1)])),_:1,__:[4]})]),e(_).length===0?(l(),a("div",X,[o(e(f),{class:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s[7]||(s[7]=t("p",{class:"text-gray-500"},"Aucun cours planifié",-1)),o(i,{to:"/lessons/book",class:"btn-primary mt-4 inline-block"},{default:d(()=>s[6]||(s[6]=[c(" Réserver un cours ",-1)])),_:1,__:[6]})])):(l(),a("div",Y,[(l(!0),a(D,null,N(e(_),m=>(l(),a("div",{key:m.id,class:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},[t("div",null,[t("h3",tt,n(m.course_type),1),t("p",st,n(b(m.scheduled_at)),1),t("p",et,"avec "+n(m.teacher_name),1)]),t("div",ot,[t("p",nt,n(m.price)+"€",1),s[8]||(s[8]=t("span",{class:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800"}," Confirmé ",-1))])]))),128))]))]),t("div",rt,[s[13]||(s[13]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Actions rapides",-1)),t("div",at,[o(i,{to:"/lessons/book",class:"block w-full btn-primary text-center"},{default:d(()=>s[9]||(s[9]=[c(" Réserver un nouveau cours ",-1)])),_:1,__:[9]}),o(i,{to:"/teachers",class:"block w-full btn-secondary text-center"},{default:d(()=>s[10]||(s[10]=[c(" Parcourir les enseignants ",-1)])),_:1,__:[10]}),o(i,{to:"/profile",class:"block w-full btn-secondary text-center"},{default:d(()=>s[11]||(s[11]=[c(" Modifier mon profil ",-1)])),_:1,__:[11]}),o(i,{to:"/lessons",class:"block w-full btn-secondary text-center"},{default:d(()=>s[12]||(s[12]=[c(" Historique des cours ",-1)])),_:1,__:[12]})])])])])}}};export{ct as default};
