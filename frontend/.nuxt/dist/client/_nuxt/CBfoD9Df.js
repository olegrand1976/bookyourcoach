import{_ as k}from"./C91-Klus.js";import{e as V,k as P,l as q,r as y,f as U,c as n,a as t,t as o,i as e,d as h,b as N,w as A,m as E,p as S,q as c,v as p,s as T,F as j,x as B,o as l,n as b}from"./D0Y81rF_.js";import{u as C}from"./C4hk_EZT.js";const L={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},M={class:"max-w-md w-full space-y-8"},D={class:"mt-6 text-center text-3xl font-extrabold text-gray-900"},F={class:"mt-2 text-center text-sm text-gray-600"},I={class:"space-y-4"},O={for:"name",class:"block text-sm font-medium text-gray-700"},R=["placeholder"],z={for:"email",class:"block text-sm font-medium text-gray-700"},G=["placeholder"],H={for:"password",class:"block text-sm font-medium text-gray-700"},J=["placeholder"],K={for:"password_confirmation",class:"block text-sm font-medium text-gray-700"},Q=["placeholder"],W={class:"flex items-center"},X={for:"terms",class:"ml-2 block text-sm text-gray-900"},Y={href:"#",class:"text-primary-600 hover:text-primary-500"},Z=["disabled"],$={key:0},ee={key:1},te={key:0,class:"bg-red-50 border border-red-200 rounded-md p-4"},se={class:"text-sm text-red-600"},ae={class:"list-disc list-inside space-y-1"},le={__name:"register",setup(re){const x=V(),g=C(),{t:s}=P(),i=q({name:"",email:"",password:"",password_confirmation:"",terms:!1}),m=y(!1),d=y([]),v=async()=>{var f,r,u,a;m.value=!0,d.value=[];try{await x.register(i),g.success("Inscription rÃ©ussie"),await b("/dashboard")}catch(_){if((r=(f=_.response)==null?void 0:f.data)!=null&&r.errors){const w=_.response.data.errors;d.value=Object.values(w).flat()}else d.value=[((a=(u=_.response)==null?void 0:u.data)==null?void 0:a.message)||"Une erreur est survenue"];g.error("Erreur lors de l'inscription")}finally{m.value=!1}};return U(()=>{x.isAuthenticated&&b("/dashboard")}),(f,r)=>{const u=k;return l(),n("div",L,[t("div",M,[t("div",null,[t("h2",D,o(e(s)("registerPage.title")),1),t("p",F,[h(o(e(s)("registerPage.or"))+" ",1),N(u,{to:"/login",class:"font-medium text-primary-600 hover:text-primary-500"},{default:A(()=>[h(o(e(s)("registerPage.login")),1)]),_:1})])]),t("form",{class:"mt-8 space-y-6",onSubmit:E(v,["prevent"])},[t("div",I,[t("div",null,[t("label",O,o(e(s)("auth.name")),1),c(t("input",{id:"name","onUpdate:modelValue":r[0]||(r[0]=a=>e(i).name=a),name:"name",type:"text",required:"",class:"input-field",placeholder:e(s)("auth.name")},null,8,R),[[p,e(i).name]])]),t("div",null,[t("label",z,o(e(s)("auth.email")),1),c(t("input",{id:"email","onUpdate:modelValue":r[1]||(r[1]=a=>e(i).email=a),name:"email",type:"email",autocomplete:"email",required:"",class:"input-field",placeholder:e(s)("auth.email")},null,8,G),[[p,e(i).email]])]),t("div",null,[t("label",H,o(e(s)("auth.password")),1),c(t("input",{id:"password","onUpdate:modelValue":r[2]||(r[2]=a=>e(i).password=a),name:"password",type:"password",required:"",class:"input-field",placeholder:e(s)("auth.password")},null,8,J),[[p,e(i).password]])]),t("div",null,[t("label",K,o(e(s)("auth.confirmPassword")),1),c(t("input",{id:"password_confirmation","onUpdate:modelValue":r[3]||(r[3]=a=>e(i).password_confirmation=a),name:"password_confirmation",type:"password",required:"",class:"input-field",placeholder:e(s)("auth.confirmPassword")},null,8,Q),[[p,e(i).password_confirmation]])])]),t("div",W,[c(t("input",{id:"terms","onUpdate:modelValue":r[4]||(r[4]=a=>e(i).terms=a),name:"terms",type:"checkbox",required:"",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[T,e(i).terms]]),t("label",X,[h(o(e(s)("registerPage.terms"))+" ",1),t("a",Y,o(e(s)("registerPage.termsLink")),1)])]),t("div",null,[t("button",{type:"submit",disabled:e(m),class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50"},[e(m)?(l(),n("span",$,o(e(s)("registerPage.creatingAccount")),1)):(l(),n("span",ee,o(e(s)("auth.createAccount")),1))],8,Z)]),e(d).length>0?(l(),n("div",te,[t("div",se,[t("ul",ae,[(l(!0),n(j,null,B(e(d),a=>(l(),n("li",{key:a},o(a),1))),128))])])])):S("",!0)],32)])])}}};export{le as default};
