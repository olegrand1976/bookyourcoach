import{h as p,x as A,c as n,o as i,a as e,e as m,j as E,l as a,d as v,v as u,z as $,k as g,F as h,p as w,H as k,n as _,t as d,s as C,A as z}from"./Cqrm1RYS.js";import{u as M}from"./C4hk_EZT.js";const U={class:"fixed inset-0 bg-black bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4"},q={class:"relative bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden"},L={class:"bg-gradient-to-r from-blue-500 to-indigo-600 px-6 py-4"},D={class:"flex items-center justify-between"},N={class:"overflow-y-auto max-h-[calc(90vh-120px)]"},P={class:"bg-gray-50 rounded-xl p-6"},H={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},I={class:"space-y-2"},O={class:"space-y-2"},F={class:"space-y-2"},R={class:"space-y-2"},G={class:"space-y-2"},J={class:"bg-purple-50 rounded-xl p-6"},K={class:"flex items-center mb-4"},Q={class:"text-sm text-gray-600"},W={key:0},X={key:1},Y={key:0,class:"mb-6"},Z={class:"grid grid-cols-2 md:grid-cols-3 gap-4"},ee=["onClick"],se=["id","value"],oe=["for"],te={class:"text-2xl mr-3"},le={class:"font-medium text-gray-900"},re={class:"text-sm text-gray-500"},ne={class:"grid grid-cols-2 md:grid-cols-3 gap-4"},ie=["onClick"],ae=["id","value"],de=["for"],ue={class:"text-2xl mr-3"},ce={class:"font-medium text-gray-900"},pe={class:"text-sm text-gray-500"},ve={key:1,class:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg"},be={class:"bg-emerald-50 rounded-xl p-6"},me={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ge={class:"space-y-2"},xe={class:"relative"},fe={class:"space-y-2"},ye={class:"flex justify-end space-x-4 pt-6 border-t border-gray-200"},he=["disabled"],we={key:0,class:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24"},Me={__name:"AddTeacherModal",emits:["close","success"],setup(ke,{emit:S}){const x=S,c=p(!1),t=p({name:"",email:"",phone:"",specializations:[],experience_years:0,hourly_rate:50,bio:"",contract_type:"freelance"}),V=p([{value:"dressage",label:"Dressage",description:"√âquitation classique",icon:"üèá"},{value:"obstacle",label:"Obstacle",description:"Saut d'obstacles",icon:"üèÜ"},{value:"cross",label:"Cross",description:"Cross-country",icon:"üå≤"},{value:"complet",label:"Complet",description:"Concours complet",icon:"üéØ"},{value:"voltige",label:"Voltige",description:"Voltige √©questre",icon:"ü§∏"},{value:"pony",label:"Poney",description:"Cours poney",icon:"üê¥"}]),b=p([]),f=p(!1),j=async()=>{f.value=!0;try{const l=C(),s=z("auth-token"),o=await $fetch(`${l.public.apiBase}/club/profile-test`);o.club&&o.club.disciplines&&(b.value=o.club.disciplines.map(r=>({value:{Dressage:"dressage","Saut d'obstacles":"obstacle",Complet:"complet",Endurance:"cross",Voltige:"voltige",Poney:"pony"}[r.name]||r.name.toLowerCase(),label:r.name,description:r.description,icon:B(r.activity_type_id)})))}catch(l){console.error("Erreur lors du chargement des sp√©cialisations du club:",l)}finally{f.value=!1}},B=l=>({1:"üèá",2:"üèä‚Äç‚ôÄÔ∏è",3:"üí™",4:"üèÉ‚Äç‚ôÇÔ∏è"})[l]||"üéØ",y=l=>{const s=t.value.specializations.indexOf(l);s>-1?t.value.specializations.splice(s,1):t.value.specializations.push(l)},T=async()=>{c.value=!0;try{const l=C(),s=z("auth-token"),o=await $fetch(`${l.public.apiBase}/club/teachers-test`,{method:"POST",headers:{Authorization:`Bearer ${s.value}`,"Content-Type":"application/json"},body:t.value});console.log("‚úÖ Enseignant cr√©√© avec succ√®s:",o);const{showToast:r}=M();r("Enseignant cr√©√© avec succ√®s !","success"),x("success"),x("close")}catch(l){console.error("‚ùå Erreur lors de l'ajout de l'enseignant:",l);const{showToast:s}=M();s("Erreur lors de la cr√©ation de l'enseignant","error")}finally{c.value=!1}};return A(()=>{j()}),(l,s)=>(i(),n("div",U,[e("div",q,[e("div",L,[e("div",D,[s[12]||(s[12]=m('<div class="flex items-center space-x-3"><div class="bg-white bg-opacity-20 p-2 rounded-lg"><svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"></path></svg></div><div><h3 class="text-xl font-bold text-white">Ajouter un nouvel enseignant</h3><p class="text-blue-100 text-sm">Remplissez les informations ci-dessous</p></div></div>',1)),e("button",{onClick:s[0]||(s[0]=o=>l.$emit("close")),class:"text-white hover:text-blue-200 transition-colors p-2 hover:bg-white hover:bg-opacity-20 rounded-lg"},s[11]||(s[11]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])]),e("div",N,[e("form",{onSubmit:E(T,["prevent"]),class:"p-6 space-y-8"},[e("div",P,[s[19]||(s[19]=m('<div class="flex items-center mb-4"><div class="bg-blue-100 p-2 rounded-lg mr-3"><svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg></div><h4 class="text-lg font-semibold text-gray-900">Informations personnelles</h4></div>',1)),e("div",H,[e("div",I,[s[13]||(s[13]=e("label",{class:"block text-sm font-medium text-gray-700"},[v(" Nom complet "),e("span",{class:"text-red-500"},"*")],-1)),a(e("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>t.value.name=o),type:"text",required:"",placeholder:"Ex: Marie Dubois",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},null,512),[[u,t.value.name]])]),e("div",O,[s[14]||(s[14]=e("label",{class:"block text-sm font-medium text-gray-700"},[v(" Email "),e("span",{class:"text-red-500"},"*")],-1)),a(e("input",{"onUpdate:modelValue":s[2]||(s[2]=o=>t.value.email=o),type:"email",required:"",placeholder:"Ex: marie.dubois@email.com",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},null,512),[[u,t.value.email]])]),e("div",F,[s[15]||(s[15]=e("label",{class:"block text-sm font-medium text-gray-700"},"T√©l√©phone",-1)),a(e("input",{"onUpdate:modelValue":s[3]||(s[3]=o=>t.value.phone=o),type:"tel",placeholder:"Ex: 06 12 34 56 78",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},null,512),[[u,t.value.phone]])]),e("div",R,[s[16]||(s[16]=e("label",{class:"block text-sm font-medium text-gray-700"},"Ann√©es d'exp√©rience",-1)),a(e("input",{"onUpdate:modelValue":s[4]||(s[4]=o=>t.value.experience_years=o),type:"number",min:"0",placeholder:"Ex: 5",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},null,512),[[u,t.value.experience_years,void 0,{number:!0}]])]),e("div",G,[s[18]||(s[18]=e("label",{class:"block text-sm font-medium text-gray-700"},[v(" Type de contrat "),e("span",{class:"text-red-500"},"*")],-1)),a(e("select",{"onUpdate:modelValue":s[5]||(s[5]=o=>t.value.contract_type=o),required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},s[17]||(s[17]=[m('<option value="freelance">Ind√©pendant</option><option value="salaried">Salari√©</option><option value="volunteer">B√©n√©vole</option><option value="student">√âtudiant</option><option value="article_17">Article 17</option>',5)]),512),[[$,t.value.contract_type]])])])]),e("div",J,[e("div",K,[s[21]||(s[21]=e("div",{class:"bg-purple-100 p-2 rounded-lg mr-3"},[e("svg",{class:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})])],-1)),e("div",null,[s[20]||(s[20]=e("h4",{class:"text-lg font-semibold text-gray-900"},"Sp√©cialisations",-1)),e("p",Q,[b.value.length>0?(i(),n("span",W," Sp√©cialisations disponibles du club (non s√©lectionn√©es par d√©faut) ")):(i(),n("span",X," S√©lectionnez les sp√©cialisations de l'enseignant "))])])]),b.value.length>0?(i(),n("div",Y,[s[22]||(s[22]=e("h5",{class:"text-sm font-medium text-gray-700 mb-3 flex items-center"},[e("span",{class:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs mr-2"},"Club"),v(" Sp√©cialisations du club ")],-1)),e("div",Z,[(i(!0),n(h,null,w(b.value,o=>(i(),n("div",{key:o.value,class:k(["flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all duration-200 hover:shadow-md",t.value.specializations.includes(o.value)?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 bg-white hover:border-gray-300"]),onClick:r=>y(o.value)},[a(e("input",{id:"club-specialization-"+o.value,"onUpdate:modelValue":s[6]||(s[6]=r=>t.value.specializations=r),value:o.value,type:"checkbox",class:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,se),[[_,t.value.specializations]]),e("label",{for:"club-specialization-"+o.value,class:"ml-4 flex items-center cursor-pointer flex-1"},[e("span",te,d(o.icon),1),e("div",null,[e("div",le,d(o.label),1),e("div",re,d(o.description),1)])],8,oe)],10,ee))),128))])])):g("",!0),e("div",null,[s[23]||(s[23]=e("h5",{class:"text-sm font-medium text-gray-700 mb-3 flex items-center"},[e("span",{class:"bg-gray-100 text-gray-800 px-2 py-1 rounded-full text-xs mr-2"},"Toutes"),v(" Autres sp√©cialisations disponibles ")],-1)),e("div",ne,[(i(!0),n(h,null,w(V.value,o=>(i(),n("div",{key:o.value,class:k(["flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all duration-200 hover:shadow-md",t.value.specializations.includes(o.value)?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 bg-white hover:border-gray-300"]),onClick:r=>y(o.value)},[a(e("input",{id:"specialization-"+o.value,"onUpdate:modelValue":s[7]||(s[7]=r=>t.value.specializations=r),value:o.value,type:"checkbox",class:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,ae),[[_,t.value.specializations]]),e("label",{for:"specialization-"+o.value,class:"ml-4 flex items-center cursor-pointer flex-1"},[e("span",ue,d(o.icon),1),e("div",null,[e("div",ce,d(o.label),1),e("div",pe,d(o.description),1)])],8,de)],10,ie))),128))])]),t.value.specializations.length===0?(i(),n("div",ve,s[24]||(s[24]=[e("div",{class:"flex items-center"},[e("svg",{class:"w-5 h-5 text-yellow-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})]),e("p",{class:"text-sm text-yellow-800"}," Aucune sp√©cialisation s√©lectionn√©e. L'enseignant pourra enseigner toutes les disciplines. ")],-1)]))):g("",!0)]),e("div",be,[s[28]||(s[28]=m('<div class="flex items-center mb-4"><div class="bg-emerald-100 p-2 rounded-lg mr-3"><svg class="w-5 h-5 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path></svg></div><h4 class="text-lg font-semibold text-gray-900">Tarifs et pr√©sentation</h4></div>',1)),e("div",me,[e("div",ge,[s[26]||(s[26]=e("label",{class:"block text-sm font-medium text-gray-700"},"Tarif horaire (‚Ç¨)",-1)),e("div",xe,[s[25]||(s[25]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"‚Ç¨")],-1)),a(e("input",{"onUpdate:modelValue":s[8]||(s[8]=o=>t.value.hourly_rate=o),type:"number",min:"0",step:"0.01",placeholder:"50.00",class:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},null,512),[[u,t.value.hourly_rate,void 0,{number:!0}]])])]),e("div",fe,[s[27]||(s[27]=e("label",{class:"block text-sm font-medium text-gray-700"},"Bio / Pr√©sentation",-1)),a(e("textarea",{"onUpdate:modelValue":s[9]||(s[9]=o=>t.value.bio=o),rows:"4",placeholder:"D√©crivez votre exp√©rience et votre approche p√©dagogique...",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none"},null,512),[[u,t.value.bio]])])])]),e("div",ye,[e("button",{type:"button",onClick:s[10]||(s[10]=o=>l.$emit("close")),class:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition-colors font-medium"}," Annuler "),e("button",{type:"submit",disabled:c.value,class:"px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-medium flex items-center space-x-2"},[c.value?(i(),n("svg",we,s[29]||(s[29]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):g("",!0),e("span",null,d(c.value?"Ajout en cours...":"Ajouter l'enseignant"),1)],8,he)])],32)])])]))}};export{Me as _};
