import{_ as L}from"./C91-Klus.js";import{c,o as d,a as s,k as D,e as N,D as B,r as u,g as j,t as e,i as t,b as a,w as h,F as A,x as M,d as m}from"./D0Y81rF_.js";import{r as g}from"./BY8ADjB5.js";function S(x,o){return d(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function C(x,o){return d(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}const E={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},V={class:"mb-8"},$={class:"text-3xl font-bold text-gray-900"},F={class:"mt-2 text-gray-600"},T={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},Z={class:"card"},q={class:"flex items-center"},H={class:"p-2 bg-primary-100 rounded-lg"},I={class:"ml-4"},R={class:"text-sm font-medium text-gray-600"},z={class:"text-2xl font-bold text-gray-900"},G={class:"card"},J={class:"flex items-center"},K={class:"p-2 bg-green-100 rounded-lg"},O={class:"ml-4"},P={class:"text-sm font-medium text-gray-600"},Q={class:"text-2xl font-bold text-gray-900"},U={class:"card"},W={class:"flex items-center"},X={class:"p-2 bg-orange-100 rounded-lg"},Y={class:"ml-4"},ss={class:"text-sm font-medium text-gray-600"},ts={class:"text-2xl font-bold text-gray-900"},es={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},os={class:"card"},as={class:"flex items-center justify-between mb-4"},ns={class:"text-lg font-semibold text-gray-900"},cs={key:0,class:"text-center py-8"},ds={class:"text-gray-500"},rs={key:1,class:"space-y-4"},ls={class:"font-medium text-gray-900"},is={class:"text-sm text-gray-600"},_s={class:"text-sm text-gray-600"},hs={class:"text-right"},ms={class:"font-medium text-gray-900"},us={class:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800"},xs={class:"card"},gs={class:"text-lg font-semibold text-gray-900 mb-4"},ps={class:"space-y-3"},vs={__name:"dashboard",setup(x){const{t:o,locale:p}=D(),b=N(),{$api:f}=B(),r=u({upcoming_lessons:0,completed_lessons:0,total_hours:0}),l=u([]),y=u(!0),v=async()=>{try{r.value={upcoming_lessons:0,completed_lessons:0,total_hours:0};try{const n=await f.get("/lessons?status=confirmed&limit=5");l.value=n.data.data}catch{l.value=[]}}catch(n){console.error("Erreur lors du chargement des données:",n),r.value={upcoming_lessons:0,completed_lessons:0,total_hours:0},l.value=[]}finally{y.value=!1}},w=n=>new Date(n).toLocaleDateString(p.value,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return j(()=>{v()}),(n,k)=>{const _=L;return d(),c("div",E,[s("div",V,[s("h1",$,e(t(o)("dashboard.title",{name:t(b).userName})),1),s("p",F,e(t(o)("dashboard.subtitle")),1)]),s("div",T,[s("div",Z,[s("div",q,[s("div",H,[a(t(g),{class:"w-6 h-6 text-primary-600"})]),s("div",I,[s("p",R,e(t(o)("dashboard.upcomingLessons")),1),s("p",z,e(t(r).upcoming_lessons),1)])])]),s("div",G,[s("div",J,[s("div",K,[a(t(S),{class:"w-6 h-6 text-green-600"})]),s("div",O,[s("p",P,e(t(o)("dashboard.completedLessons")),1),s("p",Q,e(t(r).completed_lessons),1)])])]),s("div",U,[s("div",W,[s("div",X,[a(t(C),{class:"w-6 h-6 text-orange-600"})]),s("div",Y,[s("p",ss,e(t(o)("dashboard.totalHours")),1),s("p",ts,e(t(r).total_hours)+"h",1)])])])]),s("div",es,[s("div",os,[s("div",as,[s("h2",ns,e(t(o)("dashboard.upcomingLessons")),1),a(_,{to:"/lessons",class:"text-primary-600 hover:text-primary-700 text-sm font-medium"},{default:h(()=>[m(e(t(o)("dashboard.viewAll")),1)]),_:1})]),t(l).length===0?(d(),c("div",cs,[a(t(g),{class:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s("p",ds,e(t(o)("dashboard.noLessons")),1),a(_,{to:"/lessons/book",class:"btn-primary mt-4 inline-block"},{default:h(()=>[m(e(t(o)("dashboard.bookLesson")),1)]),_:1})])):(d(),c("div",rs,[(d(!0),c(A,null,M(t(l),i=>(d(),c("div",{key:i.id,class:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},[s("div",null,[s("h3",ls,e(i.course_type),1),s("p",is,e(w(i.scheduled_at)),1),s("p",_s,e(t(o)("dashboard.with"))+" "+e(i.teacher_name),1)]),s("div",hs,[s("p",ms,e(i.price)+"€",1),s("span",us,e(t(o)("dashboard.confirmed")),1)])]))),128))]))]),s("div",xs,[s("h2",gs,e(t(o)("dashboard.quickActions")),1),s("div",ps,[a(_,{to:"/lessons/book",class:"block w-full btn-primary text-center"},{default:h(()=>[m(e(t(o)("dashboard.bookLesson")),1)]),_:1}),a(_,{to:"/teachers",class:"block w-full btn-secondary text-center"},{default:h(()=>[m(e(t(o)("dashboard.browseTeachers")),1)]),_:1})])])])])}}};export{vs as default};
