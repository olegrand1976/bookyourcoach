import{_ as L}from"./CufzsiaN.js";import{c,o as d,a as s,e as D,C as N,r as u,g as B,t as e,i as t,b as a,w as h,F as j,s as A,d as m}from"./DS9r2nwn.js";import{r as g}from"./BwPxWYzE.js";function C(x,o){return d(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function M(x,o){return d(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}const S={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},E={class:"mb-8"},V={class:"text-3xl font-bold text-gray-900"},$={class:"mt-2 text-gray-600"},F={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},T={class:"card"},Z={class:"flex items-center"},q={class:"p-2 bg-primary-100 rounded-lg"},H={class:"ml-4"},I={class:"text-sm font-medium text-gray-600"},R={class:"text-2xl font-bold text-gray-900"},z={class:"card"},G={class:"flex items-center"},J={class:"p-2 bg-green-100 rounded-lg"},K={class:"ml-4"},O={class:"text-sm font-medium text-gray-600"},P={class:"text-2xl font-bold text-gray-900"},Q={class:"card"},U={class:"flex items-center"},W={class:"p-2 bg-orange-100 rounded-lg"},X={class:"ml-4"},Y={class:"text-sm font-medium text-gray-600"},ss={class:"text-2xl font-bold text-gray-900"},ts={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},es={class:"card"},os={class:"flex items-center justify-between mb-4"},as={class:"text-lg font-semibold text-gray-900"},ns={key:0,class:"text-center py-8"},cs={class:"text-gray-500"},ds={key:1,class:"space-y-4"},rs={class:"font-medium text-gray-900"},ls={class:"text-sm text-gray-600"},is={class:"text-sm text-gray-600"},_s={class:"text-right"},hs={class:"font-medium text-gray-900"},ms={class:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800"},us={class:"card"},xs={class:"text-lg font-semibold text-gray-900 mb-4"},gs={class:"space-y-3"},ys={__name:"dashboard",setup(x){const{t:o,locale:p}=useI18n(),b=D(),{$api:f}=N(),r=u({upcoming_lessons:0,completed_lessons:0,total_hours:0}),l=u([]),y=u(!0),v=async()=>{try{r.value={upcoming_lessons:0,completed_lessons:0,total_hours:0};try{const n=await f.get("/lessons?status=confirmed&limit=5");l.value=n.data.data}catch{l.value=[]}}catch(n){console.error("Erreur lors du chargement des données:",n),r.value={upcoming_lessons:0,completed_lessons:0,total_hours:0},l.value=[]}finally{y.value=!1}},w=n=>new Date(n).toLocaleDateString(p.value,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return B(()=>{v()}),(n,k)=>{const _=L;return d(),c("div",S,[s("div",E,[s("h1",V,e(t(o)("dashboard.title",{name:t(b).userName})),1),s("p",$,e(t(o)("dashboard.subtitle")),1)]),s("div",F,[s("div",T,[s("div",Z,[s("div",q,[a(t(g),{class:"w-6 h-6 text-primary-600"})]),s("div",H,[s("p",I,e(t(o)("dashboard.upcomingLessons")),1),s("p",R,e(t(r).upcoming_lessons),1)])])]),s("div",z,[s("div",G,[s("div",J,[a(t(C),{class:"w-6 h-6 text-green-600"})]),s("div",K,[s("p",O,e(t(o)("dashboard.completedLessons")),1),s("p",P,e(t(r).completed_lessons),1)])])]),s("div",Q,[s("div",U,[s("div",W,[a(t(M),{class:"w-6 h-6 text-orange-600"})]),s("div",X,[s("p",Y,e(t(o)("dashboard.totalHours")),1),s("p",ss,e(t(r).total_hours)+"h",1)])])])]),s("div",ts,[s("div",es,[s("div",os,[s("h2",as,e(t(o)("dashboard.upcomingLessons")),1),a(_,{to:"/lessons",class:"text-primary-600 hover:text-primary-700 text-sm font-medium"},{default:h(()=>[m(e(t(o)("dashboard.viewAll")),1)]),_:1})]),t(l).length===0?(d(),c("div",ns,[a(t(g),{class:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s("p",cs,e(t(o)("dashboard.noLessons")),1),a(_,{to:"/lessons/book",class:"btn-primary mt-4 inline-block"},{default:h(()=>[m(e(t(o)("dashboard.bookLesson")),1)]),_:1})])):(d(),c("div",ds,[(d(!0),c(j,null,A(t(l),i=>(d(),c("div",{key:i.id,class:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},[s("div",null,[s("h3",rs,e(i.course_type),1),s("p",ls,e(w(i.scheduled_at)),1),s("p",is,e(t(o)("dashboard.with"))+" "+e(i.teacher_name),1)]),s("div",_s,[s("p",hs,e(i.price)+"€",1),s("span",ms,e(t(o)("dashboard.confirmed")),1)])]))),128))]))]),s("div",us,[s("h2",xs,e(t(o)("dashboard.quickActions")),1),s("div",gs,[a(_,{to:"/lessons/book",class:"block w-full btn-primary text-center"},{default:h(()=>[m(e(t(o)("dashboard.bookLesson")),1)]),_:1}),a(_,{to:"/teachers",class:"block w-full btn-secondary text-center"},{default:h(()=>[m(e(t(o)("dashboard.browseTeachers")),1)]),_:1})])])])])}}};export{ys as default};
